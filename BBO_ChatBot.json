{
  "name": "Bot_BBO",
  "nodes": [
    {
      "parameters": {
        "content": "ADA - Bamboo: Telegram Chatbot @GovernCardanoBot Template\n\nProduct Introduction\nADA - Bamboo: Telegram Chatbot Template is a comprehensive, ready-to-use solution designed to help developers quickly build and deploy effective chatbots on the Telegram platform. This template provides a complete workflow, supporting the automation of user interactions, natural language processing (NLP), and seamless integration with modern AI tools.\n\nWith a flexible architecture and high customizability, chatbots developed from this template can intelligently receive and respond to messages, making them suitable for various purposes. These include customer service, personal virtual assistants, technical support, or creating engaging interactive experiences for marketing campaigns.\n\nDevelopment Team\nADA - Bamboo Team\n\nTemplate Structure\nThe template is organized into clear functional sections, facilitating easy management and development:\n\n- Command Functionality (Yellow): Focuses on processing commands from users such as /start, /help, /command, etc.\n- Button Functionality (Blue): Handles actions triggered by buttons (callback queries) within the application interface.\n- Koios API Integration (Purple): Processes button actions (callback queries) to connect with the Koios API, retrieving information about DReps, SPOs, and more.\n- Automated Notifications (Green): Manages the sending of automated notifications to users and administrators.\n- AI Question Answering (Red and Gray): Handles the function of answering user questions, connected to a local AI for analysis and accurate response generation.\n",
        "height": 520,
        "width": 1360,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -5660,
        940
      ],
      "id": "1760d1a4-b0e0-42f3-aabc-c546fefd33cc",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "060a8281-3bc5-4f0c-9b19-fa636d752089",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/",
                    "operator": {
                      "type": "string",
                      "operation": "notStartsWith"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "text_message"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/start",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "3acc4f3a-f5d9-4d99-a3dc-e27c6dfcf4a4"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query_start"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "bc442685-fce4-4397-99ef-375c7a97ff7f",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/help",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query_help"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "b957fdf3-c014-437a-adc5-929ee986b1a7",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/find",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query_filter"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "647eb273-73e4-4a80-8f1e-da2fcf9ffa7e",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/account",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query_account"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "7a92ace6-f9ca-46ac-b707-2d838b157f20",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/feedback",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query_feedback"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "c46a3dc7-b7ea-44c6-9ee6-e13b5fd79eaa",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/f",
                    "operator": {
                      "type": "string",
                      "operation": "startsWith"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "feed_user"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "7e2c37d4-c9fa-48de-b607-5893c8c03700",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/id",
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "update_onchain_user"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "0fe2881d-0c34-4178-bafa-0b8dd4dcf946",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "=/",
                    "operator": {
                      "type": "string",
                      "operation": "startsWith"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "commands"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        1740,
        3040
      ],
      "id": "7838b423-d033-40ee-be1f-02e7593fb857",
      "name": "Switch"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "={{ $('AI Agent').item.json.output }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3160,
        3020
      ],
      "id": "f7f00e82-c379-4366-a940-c3dd9f3eacce",
      "name": "Message_Response",
      "webhookId": "4a15a206-bd65-4f58-bdbc-afb595bfc89e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Telegram Trigger').item.json.message.text }}",
        "options": {
          "systemMessage": "=AI Assistant Persona: Cardano Ecosystem Expert\nAI Name: GovernCardanoBot\nDeveloped by: BBO Team\nI. Role & Expertise\nYou are a professional-grade AI assistant with expert-level knowledge of the Cardano blockchain ecosystem. Your expertise encompasses all critical areas, including:\n\nCardano Governance (e.g., Project Catalyst, Cardano Improvement Proposals - CIPs, cardano governance, Cardano governance action, )\nStaking Mechanisms (e.g., ADA delegation, Stake Pool operations)\nNetwork Architecture (e.g., Ouroboros consensus algorithm, Hydra scaling solution, Mithril)\nTokenomics (e.g., ADA utility, monetary policy)\nCommunity Initiatives\nOn-chain Developments (e.g., Plutus DApps, smart contracts)\nII. Core Principles & Information Retrieval\nUpon receiving a user query, your primary directive is to:\n\nPrioritize Verifiable Information: Immediately search and leverage provided Cardano-related documents or an internal knowledge base.\nCite Sources: Generate responses using accurate and verifiable information, consistently citing the document sources where applicable (e.g., [Source: Document A, Page X]).\nFallback to Expertise: If the requested information isn't found in the provided documents, fall back on your extensive internal knowledge. Your internal knowledge reflects the perspective of someone with deep, long-term engagement and experience within the Cardano ecosystem.\nIII. Response Quality & Tone\nAll responses must adhere to the following standards:\n\nFactual Accuracy: Ensure all information is factually correct.\nClarity & Structure: Present information clearly, logically structured, and easy to follow.\nAccessibility: Be accessible to both newcomers and experienced blockchain users.\nTechnical Precision: Avoid unnecessary jargon, but maintain high technical precision when required.\nProfessional Tone: Maintain a professional, reliable, and neutral tone.\nIV. Output Content & Enhanced Comprehension\nTo ensure maximum understanding and engagement, your output should consistently incorporate elements that simplify complex topics:\n\nIllustrative Examples: Provide clear, concrete examples to demonstrate concepts.\nFor instance: When explaining the staking mechanism, describe a typical user's journey from delegating ADA to receiving rewards.\nComparative Analysis: Use comparisons or analogies to relate Cardano concepts to more familiar ideas or other blockchain ecosystems (where appropriate and unbiased).\nFor example: Compare Cardano's EUTXO model to Bitcoin's UTXO for clarity.\nConceptual Visualizations/Analogies: Help users form a mental model of abstract processes or architectures.\nThink about how to describe the Ouroboros consensus mechanism using a real-world analogy, such as a parliamentary election.\nTuy·ªát v·ªùi, t√¥i hi·ªÉu r√µ h∆°n r·ªìi! B·∫°n mu·ªën m·ªôt ƒë·ªãnh d·∫°ng HTML t·ªëi gi·∫£n nh·∫•t, ch·ªâ t·∫≠p trung v√†o vi·ªác l√†m n·ªïi b·∫≠t c√°c t·ª´ kh√≥a quan tr·ªçng b·∫±ng in ƒë·∫≠m v√† in nghi√™ng, m√† kh√¥ng c·∫ßn b·∫•t k·ª≥ c·∫•u tr√∫c th·∫ª HTML n√†o kh√°c nh∆∞ ti√™u ƒë·ªÅ, ƒëo·∫°n vƒÉn hay danh s√°ch.\n\nT√¥i ƒë√£ ƒëi·ªÅu ch·ªânh l·∫°i m·ª•c \"V. Output Format\" ƒë·ªÉ ph·∫£n √°nh ch√≠nh x√°c y√™u c·∫ßu n√†y.\n\nAI Assistant Persona: Cardano Ecosystem Expert\nAI Name: GovernCardanoBot\nDeveloped by: BBO Team\nI. Role & Expertise\nYou are a professional-grade AI assistant with expert-level knowledge of the Cardano blockchain ecosystem. Your expertise encompasses all critical areas, including:\n\nCardano Governance (e.g., Project Catalyst, Cardano Improvement Proposals - CIPs)\nStaking Mechanisms (e.g., ADA delegation, Stake Pool operations)\nNetwork Architecture (e.g., Ouroboros consensus algorithm, Hydra scaling solution, Mithril)\nTokenomics (e.g., ADA utility, monetary policy)\nCommunity Initiatives\nOn-chain Developments (e.g., Plutus DApps, smart contracts)\nII. Core Principles & Information Retrieval\nUpon receiving a user query, your primary directive is to:\n\nPrioritize Verifiable Information: Immediately search and leverage provided Cardano-related documents or an internal knowledge base.\nCite Sources: Generate responses using accurate and verifiable information, consistently citing the document sources where applicable (e.g., [Source: Document A, Page X]).\nFallback to Expertise: If the requested information isn't found in the provided documents, fall back on your extensive internal knowledge. Your internal knowledge reflects the perspective of someone with deep, long-term engagement and experience within the Cardano ecosystem.\nIII. Response Quality & Tone\nAll responses must adhere to the following standards:\n\nFactual Accuracy: Ensure all information is factually correct.\nClarity & Structure: Present information clearly, logically structured, and easy to follow.\nAccessibility: Be accessible to both newcomers and experienced blockchain users.\nTechnical Precision: Avoid unnecessary jargon, but maintain high technical precision when required.\nProfessional Tone: Maintain a professional, reliable, and neutral tone.\nIV. Output Content & Enhanced Comprehension\nTo ensure maximum understanding and engagement, your output should consistently incorporate elements that simplify complex topics:\n\nIllustrative Examples: Provide clear, concrete examples to demonstrate concepts.\nFor instance: When explaining the staking mechanism, describe a typical user's journey from delegating ADA to receiving rewards.\nComparative Analysis: Use comparisons or analogies to relate Cardano concepts to more familiar ideas or other blockchain ecosystems (where appropriate and unbiased).\nFor example: Compare Cardano's EUTXO model to Bitcoin's UTXO for clarity.\nConceptual Visualizations/Analogies: Help users form a mental model of abstract processes or architectures.\nThink about how to describe the Ouroboros consensus mechanism using a real-world analogy, such as a parliamentary election.\nV. Output Format\nAll responses must be formatted exclusively in HTML. Only use HTML tags for inline text formatting: <strong> or <b> for bold text, and <em> or <i> for italic text. Do NOT use Markdown formatting (e.g., **bold**, # heading, * list item) in your output."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        2600,
        3020
      ],
      "id": "e131f11a-2558-4259-9d92-159500e2803c",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "name": "document",
        "description": "Contains all the user's documents that you can check for context to answer user questions.",
        "topK": 5
      },
      "id": "63d792dc-5ef4-44dd-aa1b-31ac99bcba26",
      "name": "Retrieve Documents",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        3100,
        3280
      ]
    },
    {
      "parameters": {
        "modelName": "models/text-embedding-004"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        2600,
        3400
      ],
      "id": "27c32934-1d42-4fdb-bd29-d0fd38f7f190",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "Nk7Pd9f1YTDyhp5Z",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "tableName": {
          "__rl": true,
          "value": "document",
          "mode": "list",
          "cachedResultName": "document"
        },
        "options": {
          "queryName": "match_document"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        2680,
        3380
      ],
      "id": "d584f99c-3771-405e-a16e-b44cc7962ca6",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "nldB6zRahygpLVhq",
          "name": "Supabase  Phuc's account "
        }
      }
    },
    {
      "parameters": {
        "content": "Ai Agent: Tr·∫£ l·ªùi c√¢u h·ªèi t·ª´ nguiowf d√πng. ",
        "height": 660,
        "width": 1220,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        2280,
        2920
      ],
      "id": "959917ed-a7db-4e51-8b1b-461de1977da6",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "‚ú®<b>Vui l√≤ng g·ª≠i √Ω ki·∫øn ƒë√≥ng g√≥p theo c√∫ ph√°p</b>\n\n/f _√ù ki·∫øn ƒë√≥ng g√≥p x√¢y d·ª±ng c·ªßa b·∫°n!_\n\n<b>ADA-Bamboo Team</b> r·∫•t mong nh·∫≠n ƒë∆∞·ª£c nh·ªØng √Ω ki·∫øn ƒë√≥ng g√≥p x√¢y d·ª±ng c≈©ng nh∆∞ c·∫£m nh·∫≠n v·ªÅ s·∫£n ph·∫©m c·ªßa b·∫°n.\nTr√™n tinh th·∫ßn ƒë√≥ BBO s·∫Ω c√†ng ng√†y t·ªëi ∆∞u v√† c·∫≠p nh·∫≠t s·∫£n ph·∫©m t·ªët h∆°n. <b>Tr√¢n th√†nh c·∫£m ∆°n b·∫°n!</b>",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3120,
        3320
      ],
      "id": "8d951f9b-2fb1-4b76-837b-6fd77844d4ea",
      "name": "Feedback",
      "webhookId": "62f2f445-ebcc-490f-94d9-b872584941c2",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚ú®<b>H√£y ch·ªçn m·ªôt t√πy ch·ªçn ƒë·ªÉ b·∫Øt ƒë·∫ßu:</b>\n\n‚ùìTr·ª£ gi√∫p: <i>G·ª£i √Ω l·ªánh</i>\nüí°B·ªô l·ªçc: <i>C√¢u h·ªèi g·ª£i √Ω</i>\nüìùPh·∫£n h·ªìi: <i>ƒê√≥ng g√≥p √Ω ki·∫øn</i>\nüë§T√†i kho·∫£n: <i>Th√¥ng tin t√†i kho·∫£n</i>\n\n<b>Ho·∫∑c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c l·ªánh sau:</b>\n\n‚ùì /help - <i>G·ª£i √Ω l·ªánh</i>\nüí° /find - <i>C√¢u h·ªèi g·ª£i √Ω</i>\nüìù /feedback - <i>ƒê√≥ng g√≥p √Ω ki·∫øn</i>\nüë§ /account - <i>Th√¥ng tin t√†i kho·∫£n</i>\n\nB·∫°n c√≥ th·ªÉ tham gia nh√≥m c·ªông ƒë·ªìng t·∫°i: [Cardano_ECO_VN](https://t.me/Cardano_ECO_VN)",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùìTr·ª£ gi√∫p",
                    "additionalFields": {
                      "callback_data": "help"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë§T√†i kho·∫£n",
                    "additionalFields": {
                      "callback_data": "account"
                    }
                  },
                  {
                    "text": "üìùƒê√°nh gi√°",
                    "additionalFields": {
                      "callback_data": "feedback"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üí°C√¢u h·ªèi ",
                    "additionalFields": {
                      "callback_data": "find "
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2020,
        1760
      ],
      "id": "b3d7a160-71cf-44e8-858c-97301993a5e8",
      "name": "Mes_Help_Vi",
      "webhookId": "f5873235-81ab-4df1-9a14-0faba1a22440",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚ú®<b>Choose an option to get started:</b>\n\n‚ùìHelp: <i>Command suggestions</i>\nüí°Filter: <i>Suggested questions</i>\nüìùFeedback: <i>Share your feedback</i>\nüë§Account: <i>Account information</i>\n\n<b>Or you can use the following commands:</b>\n\n‚ùì /help - <i>Command suggestions</i>\nüí° /find - <i>Suggested questions</i>\nüìù /feedback - <i>Share your feedback</i>\nüë§ /account - <i>Account information</i>\n\nYou can join our community group at: [Cardano_ECO_VN](https://t.me/Cardano_ECO_VN)",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùìHelp",
                    "additionalFields": {
                      "callback_data": "help"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë§Account",
                    "additionalFields": {
                      "callback_data": "account"
                    }
                  },
                  {
                    "text": "üìùFeedback",
                    "additionalFields": {
                      "callback_data": "feedback"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üí°Filter",
                    "additionalFields": {
                      "callback_data": "find"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2020,
        2000
      ],
      "id": "954e4df7-2e4c-4b72-b462-6e14df8b6679",
      "name": "Mes_Help_En",
      "webhookId": "af626b78-9e16-4ece-a5f2-20e84be686c2",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=Xin ch√†o <b>{{ $('Telegram Trigger').item.json.message.chat.username }}</b>\nCh√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi <b>GovernCardanoBot</b> ‚Äì tr·ª£ l√Ω ·∫£o th√¥ng minh c·ªßa b·∫°n!\n\nüìñ <b>GovernCardanoBot</b> ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi <b>Bamboo Team</b>, chuy√™n h·ªó tr·ª£ gi·∫£i ƒë√°p m·ªçi th·∫Øc m·∫Øc v·ªÅ <b>Blockchain Cardano</b> v√† c√°c ho·∫°t ƒë·ªông qu·∫£n tr·ªã li√™n quan.\n\n‚ú®<b>H√£y ch·ªçn m·ªôt t√πy ch·ªçn ƒë·ªÉ b·∫Øt ƒë·∫ßu:</b>\n‚ùì /help - <i>G·ª£i √Ω l·ªánh</i>\nüí° /find - <i>C√¢u h·ªèi g·ª£i √Ω</i>\nüìù /feedback - <i>ƒê√≥ng g√≥p √Ω ki·∫øn</i>\nüë§ /account - <i>Th√¥ng tin t√†i kho·∫£n</i>\n\nB·∫°n c√≥ th·ªÉ tham gia nh√≥m c·ªông ƒë·ªìng t·∫°i: [Cardano_ECO_VN](https://t.me/Cardano_ECO_VN)",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùìTr·ª£ gi√∫p",
                    "additionalFields": {
                      "callback_data": "help"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë§T√†i kho·∫£n",
                    "additionalFields": {
                      "callback_data": "account"
                    }
                  },
                  {
                    "text": "üìù ƒê√°nh gi√°",
                    "additionalFields": {
                      "callback_data": "feedback"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üí°C√¢u h·ªèi",
                    "additionalFields": {
                      "callback_data": "find"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2060,
        2400
      ],
      "id": "0e633739-cf4d-4b11-a585-55e9696fc7b8",
      "name": "Mes_Start_Vi",
      "webhookId": "9aaeac83-1fbc-4d81-84c8-8ce9e483c4f0",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=Hello <b>{{ $('Telegram Trigger').item.json.message.chat.username }}</b>! \nWelcome to *GovernCardanoBot* ‚Äì your smart virtual assistant!\n\nüìñ <b>GovernCardanoBot</b> is powered by <b>Bamboo Team</b>, designed to answer all your questions about the *Cardano Blockchain* and its governance activities.\n\n‚ú®<b>Choose an option to get started:</b>\n\n‚ùì /help - <i>Command suggestions</i>\nüí° /find - <i>Suggested questions</i>\nüìù /feedback - <i>Share your feedback</i>\nüë§ /account - <i>Account information</i>\n\nYou can join our community group at: [Cardano_ECO_VN](https://t.me/Cardano_ECO_VN)",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùìHelp",
                    "additionalFields": {
                      "callback_data": "help"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë§Account ",
                    "additionalFields": {
                      "callback_data": "account"
                    }
                  },
                  {
                    "text": "üìùFeedback",
                    "additionalFields": {
                      "callback_data": "feedback"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üí°Filter",
                    "additionalFields": {
                      "callback_data": "find"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2060,
        2620
      ],
      "id": "9d1d933d-434b-4caf-987f-cac811107799",
      "name": "Mes_Start_En",
      "webhookId": "43fd4346-caa5-4fe8-bb11-50516dded99c",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "9347071f-e88c-45e8-b65e-6b528f6a03ed",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1820,
        2500
      ],
      "id": "68265f24-cf07-4802-84e4-87038a8bf3d1",
      "name": "If_Lang_Start"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "0ca45c62-b397-4851-9c5a-6280dd54590e",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {
          "ignoreCase": true
        }
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1680,
        1860
      ],
      "id": "6f22dbc7-5b24-4ba7-a85e-223eaa76534f",
      "name": "If_Lang_Help"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "13eaa743-02a0-44fd-a73e-25531343fb95",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        760,
        3800
      ],
      "id": "a1aa5a6e-2ede-4827-9db4-3a359eadc8a7",
      "name": "If_Command"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚ú®<b>Danh s√°ch c√¢u l·ªánh:</b>\n/start - <i>Kh·ªüi ƒë·ªông chatbot</i>\n/help - <i>G·ª£i √Ω l·ªánh</i>\n/find - <i>C√¢u h·ªèi g·ª£i √Ω</i>\n/feedback - <i>ƒê√≥ng g√≥p √Ω ki·∫øn</i>\n/account - <i>Th√¥ng tin t√†i kho·∫£n</i>\n/id - <i>C·∫≠p nh·∫≠t ID Onchain</i>",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1060,
        3680
      ],
      "id": "0e14b494-e9ec-47ce-8c31-b612f401fb6d",
      "name": "Mes_Com_Vi",
      "webhookId": "5cb2f9c7-1cf2-4778-9728-5fb36c6dfe0d",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "f7f438e3-7084-4502-b2cd-f681e2e79824",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1640,
        1320
      ],
      "id": "44a6ea37-a30e-4da2-8b37-b803b3c64760",
      "name": "If_Find"
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch').item.json.message.from.id }}",
        "text": "=‚ú®<b>Ch·ªçn m·ªôt c√¢u h·ªèi g·ª£i √Ω ƒë·ªÉ b·∫Øt cu·ªôc tr√≤ chuy·ªán!</b>\n<i>Vui l√≤ng nh·∫•n v√†o m·ªôt s·ªë t·ª´ 1 ƒë·∫øn 10 ƒë·ªÉ xem c√¢u h·ªèi</i>:\n\n{{ $json.random_questions }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[0][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[0][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[1][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[1][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[2][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[2][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[3][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[3][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[4][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[4][0].callback_data }}"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[5][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[5][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[6][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[6][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[7][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[7][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[8][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[8][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[9][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[9][0].callback_data }}"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2140,
        1220
      ],
      "id": "301b3765-2454-4c37-afcd-d61e442974c3",
      "name": "Mes_Filter_Vi",
      "webhookId": "80d77a2b-b6f1-44bb-8804-c02e7c1a3f01",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "‚ú®<b>List of commands:</b>\n/start - <i>Start chatbot</i>\n/help - <i>Command suggestions</i>\n/find - <i>Suggested questions</i>\n/feedback - <i>Share your feedback</i>\n/account - <i>Account information</i>\n/id - <i>Update ID Onchain</i>",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1060,
        3880
      ],
      "id": "6442a4ac-a120-46f6-878c-4f70b21da6dd",
      "name": "Mes_Com_En",
      "webhookId": "e1fc9523-010b-413c-b405-06b3723cdbcc",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "791ff0db-6349-461a-bc25-e775add7e88f",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5600,
        3500
      ],
      "id": "1a5a1314-9227-455d-a601-6d8ecf8d4b97",
      "name": "If_Call_Help"
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "‚ú®<b>H√£y ch·ªçn m·ªôt t√πy ch·ªçn ƒë·ªÉ b·∫Øt ƒë·∫ßu:</b>\n\n‚ùìTr·ª£ gi√∫p: <i>G·ª£i √Ω l·ªánh</i>\nüí°B·ªô l·ªçc: <i>C√¢u h·ªèi g·ª£i √Ω</i>\nüìùPh·∫£n h·ªìi: <i>ƒê√≥ng g√≥p √Ω ki·∫øn</i>\nüë§T√†i kho·∫£n: <i>Th√¥ng tin t√†i kho·∫£n</i>\n\n<b>Ho·∫∑c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c l·ªánh sau:</b>\n\n‚ùì /help - <i>G·ª£i √Ω l·ªánh</i>\nüí° /find - <i>C√¢u h·ªèi g·ª£i √Ω</i>\nüìù /feedback - <i>ƒê√≥ng g√≥p √Ω ki·∫øn</i>\nüë§ /account - <i>Th√¥ng tin t√†i kho·∫£n</i>\n\nB·∫°n c√≥ th·ªÉ tham gia nh√≥m c·ªông ƒë·ªìng t·∫°i: [Cardano_ECO_VN](https://t.me/Cardano_ECO_VN)",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùìTr·ª£ gi√∫p",
                    "additionalFields": {
                      "callback_data": "help"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë§T√†i kho·∫£n",
                    "additionalFields": {
                      "callback_data": "account"
                    }
                  },
                  {
                    "text": "üìùƒê√°nh gi√°",
                    "additionalFields": {
                      "callback_data": "feedback"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üí°C√¢u h·ªèi",
                    "additionalFields": {
                      "callback_data": "find"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5640,
        3300
      ],
      "id": "690c310b-0751-4ad6-9ee0-0534d76df733",
      "name": "Help_Vi",
      "webhookId": "e657a6e3-a1d4-4e12-9fed-45d3b8780bf2",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "‚ú®<b>Choose an option to get started:</b>\n\n‚ùìHelp: <i>Command suggestions</i>\nüí°Filter: <i>Suggested questions</i>\nüìùFeedback: <i>Share your feedback</i>\nüë§Account: <i>Account information</i>\n\n<b>Or you can use the following commands:</b>\n\n‚ùì /help - <i>Command suggestions</i>\nüí° /find - <i>Suggested questions</i>\nüìù /feedback - <i>Share your feedback</i>\nüë§ /account - <i>Account information</i>\n\nYou can join our community group at: [Cardano_ECO_VN](https://t.me/Cardano_ECO_VN)",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "‚ùìHelp",
                    "additionalFields": {
                      "callback_data": "help"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë§Account",
                    "additionalFields": {
                      "callback_data": "account"
                    }
                  },
                  {
                    "text": "üìùFeedback",
                    "additionalFields": {
                      "callback_data": "feedback"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üí°Filter ",
                    "additionalFields": {
                      "callback_data": "find"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5340,
        3520
      ],
      "id": "881525a4-5a7b-4761-a8b8-6ba6d3f93bb8",
      "name": "Help_En",
      "webhookId": "e657a6e3-a1d4-4e12-9fed-45d3b8780bf2",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "1d5eaffb-93cc-4b5e-9008-86db761771fa",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -4800,
        3520
      ],
      "id": "c6535725-84e8-4e96-937b-729f6c01701a",
      "name": "If_Call_Filter"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "text": "={{ $json.formatted_output }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "MarkdownV2"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -360,
        1960
      ],
      "id": "108d835d-c7c9-4563-a599-a576cc2b2a07",
      "name": "Message_Response1",
      "webhookId": "4a15a206-bd65-4f58-bdbc-afb595bfc89e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.text_message }}",
        "options": {
          "systemMessage": "Role & Expertise\nYou are a professional-grade AI assistant with expert-level knowledge of the Cardano blockchain ecosystem. Your expertise covers all major areas including Cardano governance, staking mechanisms, network architecture, tokenomics, community initiatives, and on-chain developments.\n\nBehavioral Instructions\n\nInformation Retrieval\n\nWhen a user submits a query, immediately perform a search across the provided Cardano-related documents or knowledge base.\n\nYour primary objective is to generate a response using accurate and verifiable information from those documents.\n\nCite document sources where applicable using a consistent format.\n\nFallback to Trained Knowledge\n\nIf the requested information is not found in the documents, fall back on your internal knowledge.\n\nYour internal knowledge reflects the perspective of someone with extensive experience and long-term engagement in the Cardano ecosystem.\n\nResponse Quality & Tone\n\nEnsure all answers are factually correct, clearly structured, and accessible to both newcomers and experienced blockchain users.\n\nAvoid unnecessary jargon, but preserve technical precision.\n\nMaintain a professional, reliable, and neutral tone in all responses.\n\nOutput Objective\nDeliver clear, context-aware, and trusted answers that empower users to understand and engage confidently with the Cardano blockchain."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -1180,
        1960
      ],
      "id": "c699a879-2d0c-4d83-ad2e-0efea4f87d27",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "tableName": "=n8n_chat_histories"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        -1060,
        2080
      ],
      "id": "90764af5-c683-4bf5-93a2-77aef09bafef",
      "name": "Postgres Chat Memory1",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {
          "maxOutputTokens": 2500
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        2620,
        3180
      ],
      "id": "f3b40a8a-29d9-4a6b-b37e-358340d41e95",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "Nk7Pd9f1YTDyhp5Z",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {
          "maxOutputTokens": 4096
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -1180,
        2080
      ],
      "id": "c4b45f8c-bb1e-4bda-af6a-27b609564046",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "Nk7Pd9f1YTDyhp5Z",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "3daaadcc-b1d9-413e-8e73-04a18b2847d3",
              "leftValue": "={{ $json.user_exists }}",
              "rightValue": "false",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "looseTypeValidation": true,
        "options": {
          "ignoreCase": false
        }
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2460,
        2500
      ],
      "id": "354fa877-5861-48d7-b8c5-a5adee11d4cc",
      "name": "If_exist"
    },
    {
      "parameters": {
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "bbo_user",
          "mode": "list",
          "cachedResultName": "bbo_user"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "isactive": true,
            "allownoti": true,
            "telegramid": "={{ $('Telegram Trigger').item.json.message.from.id }}",
            "username": "={{ $('Telegram Trigger').item.json.message.from.username }}",
            "roleid": 3
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "telegramid",
              "displayName": "telegramid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true
            },
            {
              "id": "username",
              "displayName": "username",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "joindate",
              "displayName": "joindate",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "lastactive",
              "displayName": "lastactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "isactive",
              "displayName": "isactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true
            },
            {
              "id": "password",
              "displayName": "password",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "roleid",
              "displayName": "roleid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true
            },
            {
              "id": "allownoti",
              "displayName": "allownoti",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        2700,
        2480
      ],
      "id": "4d4e0f25-11b9-4832-ba2b-652876ba183d",
      "name": "Insert_user",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "content": "‚ú®L·ªánh /start‚ú®\nüì• Khi ng∆∞·ªùi d√πng g·ª≠i l·ªánh /start ƒë·ªÉ b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng chatbot:\n\nüîé H·ªá th·ªëng s·∫Ω th·ª±c hi·ªán ki·ªÉm tra nh∆∞ sau:\n\n‚úÖ N·∫øu ng∆∞·ªùi d√πng ƒë√£ c√≥ t√†i kho·∫£n tr√™n h·ªá th·ªëng BBO ‚Üí Cho ph√©p ti·∫øp t·ª•c s·ª≠ d·ª•ng ngay.\n\nüÜï N·∫øu l√† ng∆∞·ªùi d√πng m·ªõi ‚Üí H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông kh·ªüi t·∫°o t√†i kho·∫£n m·ªõi tr√™n n·ªÅn t·∫£ng BBO, s·ª≠ d·ª•ng c√°c th√¥ng tin c∆° b·∫£n ƒë∆∞·ª£c cung c·∫•p.",
        "height": 620,
        "width": 1680
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1660,
        2200
      ],
      "id": "c1b956b6-c3df-4826-a1ff-c93e9d49dbea",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "/help‚ú® ‚Äî B·∫°n c·∫ßn tr·ª£ gi√∫p?\nG·ª≠i l·ªánh n√†y ƒë·ªÉ nh·∫≠n h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng chatbot!\nü§ñ Chatbot s·∫Ω g·ª£i √Ω cho b·∫°n nh·ªØng l·ªánh ph·ªï bi·∫øn v√† c√°ch d√πng ƒë·ªÉ b·∫°n thao t√°c nhanh h∆°n v√† hi·ªáu qu·∫£ h∆°n!",
        "height": 500,
        "width": 700
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1580,
        1640
      ],
      "id": "adcc74f5-c2a6-4e37-9771-ad9dd7c81e6b",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "content": "‚ú® L·ªánh /find ‚ú® \nH·ªá th·ªëng s·∫Ω ƒë·ªÅ xu·∫•t nh·ªØng c√¢u h·ªèi ph·ªï bi·∫øn, ph√π h·ª£p v·ªõi nhu c·∫ßu c·ªßa b·∫°n nh·∫±m gi√∫p b·∫°n b·∫Øt ƒë·∫ßu cu·ªôc tr√≤ chuy·ªán d·ªÖ d√†ng h∆°n.",
        "height": 440,
        "width": 1060
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1520,
        1140
      ],
      "id": "5b425066-b4cb-4af0-b062-c2fb4f0abd69",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        980,
        320
      ],
      "id": "80ab70f4-e055-4aca-9b1e-4a871d716586",
      "name": "If1"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.message.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1600,
        800
      ],
      "id": "d488bed8-ef09-41be-997c-1d8bc8aaefe5",
      "name": "Postgres",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: {{ $json.telegramid }}\n-T√™n t√†i kho·∫£n: {{ $json.username }}\n-Ng√†y tham gia: {{ $json.joindate }}\n-Tr·∫°ng th√°i: {{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}\n-Vai tr√≤: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Kh√¥ng x√°c ƒë·ªãnh\"\n}}\n-Nh·∫≠n th√¥ng b√°o: {{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}\n-ƒêi·ªÉm th∆∞·ªüng: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Th√¥ng b√°o: <b>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</b>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin Drep",
                    "additionalFields": {
                      "callback_data": "api_drepinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ·ªßy quy·ªÅn cho b·∫°n",
                    "additionalFields": {
                      "callback_data": "DReps_Delegators"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ƒë√£ vote c·ªßa b·∫°n",
                    "additionalFields": {
                      "callback_data": "voter_proposal_list"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "L·ªãch s·ª≠ quy·ªÅn bi·ªÉu quy·∫øt c·ªßa b·∫°n",
                    "additionalFields": {
                      "callback_data": "Drep_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin v·ªÅ  epoch",
                    "additionalFields": {
                      "callback_data": "epoch_params"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1200,
        300
      ],
      "id": "f601f67e-6771-40dd-aa7c-147da7952495",
      "name": "Telegram",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: {{ $json.telegramid }}\n-Username: {{ $json.username }}\n-Join date: {{ $json.joindate }}\n-Status: {{ $json.isactive ? \"Active\" : \"Inactive\"}}\n-Role: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}\n-Notifications: {{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}\n-Points: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Notifications: <b>Sign up to receive notifications when new proposals are available</b>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Drep infomation",
                    "additionalFields": {
                      "callback_data": "api_drepinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "List of DReps Delegators",
                    "additionalFields": {
                      "callback_data": "DReps_Delegators"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Voter's Proposal List",
                    "additionalFields": {
                      "callback_data": "voter_proposal_list"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Voting Power History",
                    "additionalFields": {
                      "callback_data": "Drep_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Information About  Epoch",
                    "additionalFields": {
                      "callback_data": "epoch_params"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        940,
        140
      ],
      "id": "7c15a6b1-6286-4fc8-ba90-fb04222ad69a",
      "name": "Telegram1",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "content": "‚ú®L·ªánh /account‚ú®\nHi·ªÉn th·ªã th√¥ng tin th√¥ng tin ng∆∞·ªùi d√πng",
        "height": 1080,
        "width": 1840
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "b113091a-f736-41b2-bca5-e2bc711cbafb",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "updates": [
          "message",
          "callback_query"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [
        -1500,
        3200
      ],
      "id": "ae6312f9-ba88-47f0-b46b-b776702ad901",
      "name": "Telegram Trigger",
      "webhookId": "1db700b1-cda0-417b-b14b-daf24bc24b8a",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "content": "‚ú®L·ªánh command‚ú® HI·ªÉn th·ªã c√¢u l·ªánh g∆∞·ª£i √Ω",
        "height": 380,
        "width": 620
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        680,
        3660
      ],
      "id": "e350a624-cff8-4535-999e-282f3b1352fb",
      "name": "Sticky Note8"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -5780,
        4320
      ],
      "id": "deb63091-dd82-411b-a50a-ce4b8cc339b2",
      "name": "Postgres3",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "cee73a9e-9d6c-4203-8f85-c775c3ae6241",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -3820,
        3520
      ],
      "id": "1f326616-11b9-446b-975c-5ddce868de49",
      "name": "If3"
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "‚ú®Vui l√≤ng ch·ªçn vai tr√≤ hi·ªán t·∫°i c·ªßa b·∫°n",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üßë‚ÄçüíªUser",
                    "additionalFields": {
                      "callback_data": "user"
                    }
                  },
                  {
                    "text": "üîêHolder",
                    "additionalFields": {
                      "callback_data": "holder"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë®‚ÄçüîßSPO",
                    "additionalFields": {
                      "callback_data": "spo"
                    }
                  },
                  {
                    "text": "üßë‚Äçüéì Committe",
                    "additionalFields": {
                      "callback_data": "committe"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üôãDrep",
                    "additionalFields": {
                      "callback_data": "drep"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3860,
        3320
      ],
      "id": "c87be16d-a1e3-4168-8830-0654e5ebb9d3",
      "name": "Telegram2",
      "webhookId": "e56b0648-3759-4ff3-aa8f-546cf2cd2e4d",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "‚ú®Please select your current role",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üßë‚ÄçüíªUser",
                    "additionalFields": {
                      "callback_data": "user"
                    }
                  },
                  {
                    "text": "üîêHolder",
                    "additionalFields": {
                      "callback_data": "holder"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üë®‚ÄçüîßSPO",
                    "additionalFields": {
                      "callback_data": "spo"
                    }
                  },
                  {
                    "text": "üßë‚Äçüéì Committe",
                    "additionalFields": {
                      "callback_data": "committe"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "üôãDrep",
                    "additionalFields": {
                      "callback_data": "drep"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -3560,
        3540
      ],
      "id": "f06e5555-465a-4500-82e9-0af88bda0f96",
      "name": "Telegram3",
      "webhookId": "e56b0648-3759-4ff3-aa8f-546cf2cd2e4d",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "bcbff913-39c0-4fbe-9947-0abb959a23d9",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        80,
        3820
      ],
      "id": "8f5d7efc-6786-4045-9fde-5fd76bf06aad",
      "name": "If4"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚ú®<b>Vui l√≤ng g·ª≠i √Ω ki·∫øn ƒë√≥ng g√≥p theo c√∫ ph√°p</b>\n\n/f  <i>√ù ki·∫øn ƒë√≥ng g√≥p x√¢y d·ª±ng c·ªßa b·∫°n!</i>\n\n<b>ADA-Bamboo Team</b> r·∫•t mong nh·∫≠n ƒë∆∞·ª£c nh·ªØng √Ω ki·∫øn ƒë√≥ng g√≥p x√¢y d·ª±ng c≈©ng nh∆∞ c·∫£m nh·∫≠n v·ªÅ s·∫£n ph·∫©m c·ªßa b·∫°n.\nTr√™n tinh th·∫ßn ƒë√≥ BBO s·∫Ω c√†ng ng√†y t·ªëi ∆∞u v√† c·∫≠p nh·∫≠t s·∫£n ph·∫©m t·ªët h∆°n. <b>Tr√¢n th√†nh c·∫£m ∆°n b·∫°n!</b>",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -160,
        3720
      ],
      "id": "b847888f-f0c3-4bb6-8eff-03cbb1de069e",
      "name": "Telegram4",
      "webhookId": "a8af2b2c-e39b-4c93-9b2a-70e92b0d968e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚ú®<b>Please send your comments in the following format</b>\n\n/f  <i>Your constructive comments!</i>\n\n<b>ADA-Bamboo Team</b> looks forward to receiving your constructive comments and feelings about the product.\nIn that spirit, BBO will increasingly optimize and update better products. <b>Sincerely thank you!</b>",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        320,
        3840
      ],
      "id": "fb266898-d62c-4844-a42d-adfcce800f7e",
      "name": "Telegram5",
      "webhookId": "a8af2b2c-e39b-4c93-9b2a-70e92b0d968e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "content": "‚ú®L·ªánh /feedback ‚ú®\nHi·ªÉn th·ªã c√∫ ph√°p gi√∫p ng∆∞·ªùi d√πng ghi ƒë√°nh gi√° s·∫£n ph·∫©m",
        "height": 400,
        "width": 780
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -240,
        3660
      ],
      "id": "f8d6ae5a-120d-442b-ab89-70b02c03730d",
      "name": "Sticky Note9"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "3c219d29-93a0-4566-8bd8-4fc301282720",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        580,
        4320
      ],
      "id": "c8504885-2020-4ace-897b-b81da5a3b842",
      "name": "If5"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "<b>ADA-Bamboo Team</b> tr√¢n th√†nh c·∫£m ∆°n √Ω ki·∫øn-c·∫£m nh·∫≠n c·ªßa b·∫°n!\n‚ú®Ch√∫c b·∫°n m·ªôt ng√†y t·ªët l√†nh‚ú®",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        800,
        4180
      ],
      "id": "b23d0e26-9f0b-4f13-95e6-9a61ecb1ee1a",
      "name": "Telegram7",
      "webhookId": "8f2cf665-bcbd-4670-b62b-80fb13d1a198",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "bbo_feedback",
          "mode": "list",
          "cachedResultName": "bbo_feedback"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "userid": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
            "comment": "={{ $('Telegram Trigger').item.json.message.text }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "userid",
              "displayName": "userid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true
            },
            {
              "id": "rating",
              "displayName": "rating",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "comment",
              "displayName": "comment",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "createdat",
              "displayName": "createdat",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1140,
        4320
      ],
      "id": "7c090ae2-97be-4bb1-828a-f8ba9a35ff48",
      "name": "Postgres4",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "<b>ADA-Bamboo Team</b> sincerely thanks for your comments or feelings!\n‚ú®Wishing you all the best‚ú®",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        800,
        4460
      ],
      "id": "17883023-fa17-4fd0-8097-07431885a713",
      "name": "Telegram8",
      "webhookId": "8f2cf665-bcbd-4670-b62b-80fb13d1a198",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "content": "‚ú® L·ªánh /f ‚ú®\nGhi nh·∫≠n √Ω ki·∫øn t·ª´ ng∆∞·ªùi d√πng v√†o h·ªá th·ªëng v√† g·ª≠i th·ªëng b√°o v·ªÅ cho admin",
        "height": 560,
        "width": 1400
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        440,
        4100
      ],
      "id": "850ede77-4ef9-4832-90b4-5025653e7541",
      "name": "Sticky Note10"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ba26ab85-8f3f-4de5-a4f8-f3a48bc17a26",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -3080,
        3540
      ],
      "id": "b4f2c837-2d96-44c5-a6b4-c15f2c221edf",
      "name": "If6"
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "‚ú®<b>Please send your comments in the following format</b>\n\n/f _Your constructive comments!_\n\n<b>ADA-Bamboo Team</b> looks forward to receiving your constructive comments and feelings about the product.\nIn that spirit, BBO will increasingly optimize and update better products. <b>Sincerely thank you!</b>",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2780,
        3560
      ],
      "id": "5e4b583e-9915-4c41-a6bb-45b4531f3278",
      "name": "Feedback1",
      "webhookId": "62f2f445-ebcc-490f-94d9-b872584941c2",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "bbo_user",
          "mode": "list",
          "cachedResultName": "bbo_user"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegramid": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
            "roleid": "={{ \n  (() => {\n    const roleMap = {\n      drep: 2,\n      user: 3,\n      spo: 4,\n      holder: 5,\n      committe: 6\n    };\n    return roleMap[$('Telegram Trigger').item.json.callback_query.data] || 0;\n  })()\n}}\n"
          },
          "matchingColumns": [
            "telegramid"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "telegramid",
              "displayName": "telegramid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "username",
              "displayName": "username",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "joindate",
              "displayName": "joindate",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "lastactive",
              "displayName": "lastactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "isactive",
              "displayName": "isactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "password",
              "displayName": "password",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "roleid",
              "displayName": "roleid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true
            },
            {
              "id": "allownoti",
              "displayName": "allownoti",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "point",
              "displayName": "point",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -4320,
        5460
      ],
      "id": "24f139ed-06c1-4d64-95df-b49f968ab5a0",
      "name": "Postgres6",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "text": "‚ú®<b>Th√¥ng tin c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t.</b>‚ú®\nVui l√≤ng nh·∫≠p /account ƒë·ªÉ ki·ªÉm tra thay ƒë·ªïi!",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4020,
        4840
      ],
      "id": "ec07688f-107a-4a73-b64c-3aec9ef2277c",
      "name": "Telegram6",
      "webhookId": "c47f6a2e-0f37-49fa-9835-c430c760876e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "7cb4cfaf-6361-4885-9ed4-80614e201278",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -4020,
        5460
      ],
      "id": "26fdd23f-043e-48ef-9cc2-363e5e7d5038",
      "name": "If7"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "text": "‚ú®<b>Your information has been updated.</b>‚ú®\nPlease enter /account to check for changes!",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4020,
        5840
      ],
      "id": "d01d28f2-967f-4dd1-b4e8-714df1513a0d",
      "name": "Telegram9",
      "webhookId": "c47f6a2e-0f37-49fa-9835-c430c760876e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "bbo_user",
          "mode": "list",
          "cachedResultName": "bbo_user"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "telegramid": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
            "allownoti": "={{ $('Telegram Trigger').item.json.callback_query.data === \"turn_on\" ? true : false }}"
          },
          "matchingColumns": [
            "telegramid"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "telegramid",
              "displayName": "telegramid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "username",
              "displayName": "username",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "joindate",
              "displayName": "joindate",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "lastactive",
              "displayName": "lastactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "isactive",
              "displayName": "isactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "password",
              "displayName": "password",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "roleid",
              "displayName": "roleid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "allownoti",
              "displayName": "allownoti",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "point",
              "displayName": "point",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -4320,
        5100
      ],
      "id": "28287caa-01a8-4a43-874d-80fd01831c76",
      "name": "Postgres7",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "7cb4cfaf-6361-4885-9ed4-80614e201278",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -4020,
        5100
      ],
      "id": "f9525aa9-c4dc-4c61-b1e3-e9d31c77ab42",
      "name": "If8"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 23,
              "triggerAtMinute": 59
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -5520,
        1720
      ],
      "id": "31e18256-8655-410a-83ea-4b1079968a26",
      "name": "Schedule Trigger",
      "disabled": true
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "WITH question_stats AS (\n  SELECT \n    session_id,\n    LEAST(COUNT(*), 50) AS question_count\n  FROM public.n8n_chat_histories\n  WHERE DATE(\"CreatedOnUtc\") = CURRENT_DATE\n    AND message->>'type' = 'human'\n  GROUP BY session_id\n)\nUPDATE bbo_user\nSET point = point + qs.question_count\nFROM question_stats qs\nWHERE bbo_user.telegramid = qs.session_id::bigint;\n\n\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -5260,
        1720
      ],
      "id": "1e2fc87a-14e5-4b83-b79c-22f5121c4a63",
      "name": "Postgres8",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.chat_id }}",
        "text": "=‚ú®H·ªá th·ªëng ƒë√£ c·∫≠p nh·∫≠t ƒëi·ªÉm  cho ng∆∞·ªùi d√πng th√†nh c√¥ng!\n\nNh·∫•n v√†o button b√™n d∆∞·ªõi ƒë·ªÉ ki·ªÉm tra!\n\nNg√†y: {{ $json.formattedDate }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üü°Ki·ªÉm tra",
                    "additionalFields": {
                      "callback_data": "check_point"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4580,
        1720
      ],
      "id": "672cea3e-c4e3-439e-ae15-4d5d1a453d1a",
      "name": "Telegram10",
      "webhookId": "9f006843-3af4-4e38-9545-140979bb4a6e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return [\n  { json: { chat_id: \"1130536200\" } },\n  { json: { chat_id: \"1614089714\" } },\n  { json: { chat_id: \"7860424712\" } },\n  { json: { chat_id: \"2022256272\" } },\n  { json: { chat_id: \"7711678283\" } }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5040,
        1720
      ],
      "id": "0b0a52bb-f278-4a09-aec5-cd92181b58e6",
      "name": "Code"
    },
    {
      "parameters": {
        "content": "‚ú®Workflow c·∫≠p nh·∫≠t ƒëi·ªÉm cho user: ‚ú®\n\n",
        "height": 360,
        "width": 1360,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -5640,
        1580
      ],
      "id": "7f83703e-0386-4d8c-a793-edbfc872420a",
      "name": "Sticky Note12"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "1480d340-c8ab-4069-9877-fec1725197dd",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.data }}",
              "rightValue": "check_point",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1820,
        5120
      ],
      "id": "75f17de8-cc46-4acf-9ab2-e504466a509a",
      "name": "If9"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT username, telegramid, point\nFROM bbo_user\nWHERE roleid <> 1\nORDER BY point DESC;\n\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -1560,
        5100
      ],
      "id": "d8e36344-ca26-40eb-848b-5c5f1e13ab74",
      "name": "Postgres9",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return [\n  { json: { chat_id: \"1130536200\" } },\n  { json: { chat_id: \"1614089714\" } },\n  { json: { chat_id: \"7860424712\" } },\n  { json: { chat_id: \"2022256272\" } },\n  { json: { chat_id: \"7711678283\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1060,
        5100
      ],
      "id": "1f9cb585-4e7c-44c9-b8de-5c1d4236be37",
      "name": "Code1"
    },
    {
      "parameters": {
        "chatId": "={{ $json.chat_id }}",
        "text": "={{ $('codefunction').item.json.text }}\n",
        "replyMarkup": "=none",
        "forceReply": {},
        "replyKeyboardOptions": {},
        "replyKeyboardRemove": {},
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -860,
        5100
      ],
      "id": "23dad4ce-6b83-452c-9002-0e3722555f4f",
      "name": "Telegram11",
      "webhookId": "9f006843-3af4-4e38-9545-140979bb4a6e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "let message = \"‚ú®Danh s√°ch ƒëi·ªÉm th∆∞·ªüng c·ªßa ng∆∞·ªùi d√πng‚ú®\\n\\n\";\n\nfor (let i = 0; i < items.length; i++) {\n  const user = items[i].json;\n  message += `üë§ ${user.username} - ${user.telegramid}: ${user.point} BBO\\n`;\n}\n\nreturn [{ json: { text: message } }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1300,
        5100
      ],
      "id": "448298bb-4dc2-44c2-8e32-d374efd0bf32",
      "name": "codefunction"
    },
    {
      "parameters": {
        "content": "‚ú®Callback query‚ú® \nGi√∫p admin ki·ªÉm tra ƒëi·ªÉm c·ªßa users tr√™n h·ªá th·ªëng",
        "height": 400,
        "width": 1380,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1960,
        4940
      ],
      "id": "95f7d42a-c0ad-4d60-b5d1-b37ec3bb11d9",
      "name": "Sticky Note13"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -5420,
        2200
      ],
      "id": "ab3995b0-5008-4461-94cb-b6a14f0d699d",
      "name": "Schedule Trigger2",
      "disabled": true
    },
    {
      "parameters": {
        "url": "https://api.koios.rest/api/v1/proposal_list",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -5180,
        2240
      ],
      "id": "725913e7-f8ca-49ee-92c4-282dcdb6e337",
      "name": "GetProposals1"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "https://drive.google.com/file/d/1cc0JLhwD9WP0JLeNVORVIcfZgKI12A4K/view",
          "mode": "url"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -5180,
        2060
      ],
      "id": "5584bd7a-c5f6-4cca-ad8f-cb071bd55757",
      "name": "GetStoredProposals1",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "kzS8bqtgiQVezuXt",
          "name": "Google Drive  tre viet account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const newProposals = $items(\"GetProposals1\", 0).map(item => item.json);\nconst oldProposals = $items(\"CodeConvert\", 0).map(item => item.json);\n\nconst oldIds = oldProposals.map(p => p.proposal_id);\nconst newOnly = newProposals.filter(p => !oldIds.includes(p.proposal_id));\n\n// Log th·ª≠ ƒë·ªÉ ki·ªÉm tra\nconsole.log(\"oldIds\", oldIds);\nconsole.log(\"newProposalIds\", newProposals.map(p => p.proposal_id));\nconsole.log(\"newOnly\", newOnly);\n\nconst mergedProposals = [...oldProposals, ...newOnly];\n\nreturn [\n  {\n    json: {\n      newProposals: newOnly,\n      mergedProposals\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4360,
        2240
      ],
      "id": "d400c613-148a-43a4-bc1d-b78f9da017ba",
      "name": "CompareProposals1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "b60c2a98-22d5-4d33-a96c-cad13fb4b7a8",
              "leftValue": "={{ $json[\"newProposals\"].length > 0 }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -4120,
        2240
      ],
      "id": "8957658d-3172-4f9f-92b6-165cb1d04d92",
      "name": "If11"
    },
    {
      "parameters": {
        "operation": "update",
        "fileId": {
          "__rl": true,
          "value": "1cc0JLhwD9WP0JLeNVORVIcfZgKI12A4K",
          "mode": "id"
        },
        "changeFileContent": true,
        "inputDataFieldName": "=data",
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -4740,
        2520
      ],
      "id": "cb87de0d-3bf7-4f34-a1ec-6b600a2d694f",
      "name": "Google Drive1",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "kzS8bqtgiQVezuXt",
          "name": "Google Drive  tre viet account"
        }
      }
    },
    {
      "parameters": {
        "content": "Ki·ªÉm tra ƒë·ªÅ xu·∫•t m·ªõi tr√™n Cardano √† thoong b√°o cho drep ",
        "height": 780,
        "width": 1820,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -5640,
        2000
      ],
      "id": "e34f841c-3e3f-47bd-ae57-e9960fa297ce",
      "name": "Sticky Note14"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1c251892-dd91-4da1-910e-8230ac43c461",
              "name": "content ",
              "value": "={{ JSON.stringify($json.mergedProposals, null, 2) }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -5160,
        2520
      ],
      "id": "f678e30e-4388-441e-bda7-93412362e1e5",
      "name": "set_convert"
    },
    {
      "parameters": {
        "operation": "toText",
        "sourceProperty": "content ",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        -4960,
        2520
      ],
      "id": "6d26d331-6395-4821-99cf-5b31c8172eba",
      "name": "Convert to File"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "select * from bbo_user where allownoti = true",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -4520,
        2520
      ],
      "id": "e6d4222d-eb36-4f90-bd6b-7cf03f458e52",
      "name": "Postgres10",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nconst result = items.map(item => {\n  return {\n    json: {\n      chat_id: item.json.telegramid.toString()\n    }\n  };\n});\nreturn result;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4320,
        2520
      ],
      "id": "73c1242e-c3e6-4a0f-88ff-0b854d2c1c84",
      "name": "Code2"
    },
    {
      "parameters": {
        "chatId": "={{ $json.chat_id }}",
        "text": "={{ $('newProposal').item.json.message }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4140,
        2520
      ],
      "id": "2580c0c7-11af-4378-a717-ad5e796f634b",
      "name": "Telegram12",
      "webhookId": "39b523aa-eac0-4098-8a55-2bc1efb8091b",
      "credentials": {
        "telegramApi": {
          "id": "xlTMBHvEal44w0FQ",
          "name": "Phuc Bot"
        }
      }
    },
    {
      "parameters": {
        "operation": "text",
        "destinationKey": "dataexport",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1,
      "position": [
        -4960,
        2060
      ],
      "id": "424f69b2-de2b-4459-beab-59448b097031",
      "name": "jsonconvertold"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1c251892-dd91-4da1-910e-8230ac43c461",
              "name": "content002",
              "value": "={{ $json.dataexport }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -4720,
        2060
      ],
      "id": "521e9ab9-270b-49f1-aa37-83b87649c85f",
      "name": "set_convert1"
    },
    {
      "parameters": {
        "jsCode": "const rawText = $json.content002;\nlet parsedData = [];\n\ntry {\n  parsedData = JSON.parse(rawText);\n} catch (e) {\n  throw new Error(\"Kh√¥ng th·ªÉ parse JSON: \" + e.message);\n}\n\nreturn parsedData.map(item => ({ json: item }));\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4500,
        2060
      ],
      "id": "ac81e8a6-4fcc-4eff-b5a0-e21a8cf7a2e6",
      "name": "CodeConvert"
    },
    {
      "parameters": {
        "jsCode": "const proposals = $json.newProposals;\n\nconst message = proposals.map((p, i) => {\n  const escape = (str) => str?.toString().replace(/[_*[\\]()~`>#+\\-=|{}.!]/g, '\\\\$&') || 'Kh√¥ng c√≥';\n\n  return (\n    `*üì¢ ƒê·ªÅ xu·∫•t m·ªõi #${i + 1}:*\\n` +\n    `*üîπ ID:* ${escape(p.proposal_id)}\\n` +\n    `*üîπ Lo·∫°i:* ${escape(p.proposal_type)}\\n` +\n    `*üîπ Ti·ªÅn ƒë·∫∑t c·ªçc:* ${escape(p.deposit)}\\n` +\n    `*‚è≥ H·∫øt h·∫°n:* ${escape(p.expiration)}\\n` +\n    `*üìù Ti√™u ƒë·ªÅ:* ${escape(p.meta_json?.body?.title)}\\n` +\n    `*üìÑ M√¥ t·∫£:* ${escape(p.meta_json?.body?.abstract)}\\n`\n  );\n}).join('\\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\\n');\n\nreturn [{ json: { message } }];\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -5400,
        2520
      ],
      "id": "a819a6a1-328c-4b78-8e34-08cfe31fea03",
      "name": "newProposal"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        3180,
        3360
      ],
      "id": "397a20b3-bd72-4ac9-8211-613956e404ef",
      "name": "Google Gemini Chat Model2",
      "credentials": {
        "googlePalmApi": {
          "id": "Nk7Pd9f1YTDyhp5Z",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "name": "documents",
        "description": "Contains all the user's documents that you can check for context to answer user questions.",
        "topK": 5
      },
      "id": "19be783a-38eb-481b-a3b2-74b60c887247",
      "name": "Retrieve Documents1",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        -540,
        2160
      ]
    },
    {
      "parameters": {
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {
          "queryName": "match_documents"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        -980,
        2260
      ],
      "id": "4638614f-cadb-454b-b934-86aec76518b1",
      "name": "Supabase Vector Store1",
      "credentials": {
        "supabaseApi": {
          "id": "nldB6zRahygpLVhq",
          "name": "Supabase  Phuc's account "
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/text-embedding-004"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        -1060,
        2300
      ],
      "id": "be2cfb55-3044-44d4-a981-dc475c173b71",
      "name": "Embeddings Google Gemini1",
      "credentials": {
        "googlePalmApi": {
          "id": "Nk7Pd9f1YTDyhp5Z",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {
          "maxOutputTokens": 4096
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -460,
        2260
      ],
      "id": "5f4f5bbf-5b7c-4a04-b4b0-b09a3188dac8",
      "name": "Google Gemini Chat Model3",
      "credentials": {
        "googlePalmApi": {
          "id": "Nk7Pd9f1YTDyhp5Z",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const date = new Date($('Schedule Trigger').item.json.timestamp);\nconst day = String(date.getDate()).padStart(2, '0');\nconst month = String(date.getMonth() + 1).padStart(2, '0'); // Th√°ng b·∫Øt ƒë·∫ßu t·ª´ 0\nconst year = date.getFullYear();\n\nconst formattedDate = `${day}-${month}-${year}`;\n\nreturn [{\n  json: {\n    ...$json,\n    formattedDate\n  }\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4820,
        1720
      ],
      "id": "4ab6e21a-44a8-4816-8703-7c3db9d9c80c",
      "name": "Code3"
    },
    {
      "parameters": {
        "jsCode": "return [\n  { json: { chat_id: \"7860424712\" } },\n  { json: { chat_id: \"1614089714\" } },\n  { json: { chat_id: \"1130536200\" } }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1360,
        4320
      ],
      "id": "5eb54dbe-6015-4cbb-8392-3ff16d734416",
      "name": "Code4"
    },
    {
      "parameters": {
        "chatId": "={{ $json.chat_id }}",
        "text": "=‚ú®Th√¥ng b√°o t·ª´ h·ªá th·ªëng ‚ú®\n\nNh·∫≠n ƒë∆∞·ª£c √Ω ki·∫øn m·ªõi t·ª´ ng∆∞·ªùi d√πng: <b> {{ $('Telegram Trigger').item.json.message.chat.username }}</b>\n\nN·ªôi dung ƒë√°nh gi√°: {{ $('Telegram Trigger').item.json.message.text }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1580,
        4320
      ],
      "id": "e4f11488-6dea-4fe8-a359-91a709d511ed",
      "name": "Telegram13",
      "webhookId": "9f006843-3af4-4e38-9545-140979bb4a6e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "üìå Quy t·∫Øc nh·∫≠n ƒëi·ªÉm BBO h·∫±ng ng√†y\n‚ú® H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông t·ªïng h·ª£p v√† t√≠nh ƒëi·ªÉm cho ng∆∞·ªùi d√πng m·ªói ng√†y d·ª±a tr√™n s·ªë l∆∞·ª£ng c√¢u h·ªèi (y√™u c·∫ßu) m√† b·∫°n g·ª≠i ƒë·∫øn chatbot.\n\n‚úÖ C√°ch t√≠nh ƒëi·ªÉm:\nüì• 1 c√¢u h·ªèi = 1 BBO\nM·ªói c√¢u h·ªèi ho·∫∑c t∆∞∆°ng t√°c h·ª£p l·ªá s·∫Ω ƒë∆∞·ª£c t√≠nh l√† 1 ƒëi·ªÉm.\n\nüö´ Gi·ªõi h·∫°n t·ªëi ƒëa: 50 BBO/ng√†y\nƒê·ªÉ tr√°nh t√¨nh tr·∫°ng spam, h·ªá th·ªëng ch·ªâ c·ªông t·ªëi ƒëa 50 BBO cho m·ªói ng∆∞·ªùi d√πng trong m·ªôt ng√†y, k·ªÉ c·∫£ khi b·∫°n g·ª≠i h∆°n 50 c√¢u h·ªèi.\n‚Üí N·∫øu b·∫°n ch·ªâ g·ª≠i 30 c√¢u h·ªèi ‚ûù b·∫°n nh·∫≠n 30 BBO\n‚Üí N·∫øu b·∫°n g·ª≠i 100 c√¢u h·ªèi ‚ûù b·∫°n ch·ªâ nh·∫≠n 50 BBO\n\nüïí Th·ªùi gian t√≠nh ƒëi·ªÉm:\nƒêi·ªÉm c·ªßa b·∫°n s·∫Ω t·ª± ƒë·ªông c·∫≠p nh·∫≠t v√†o l√∫c 23:59 h·∫±ng ng√†y.\n\nüéÅ Th∆∞·ªüng th√™m d√†nh cho ng∆∞·ªùi d√πng t√≠ch c·ª±c:\nüí° Nh·ªØng ng∆∞·ªùi d√πng c√≥ ƒë√≥ng g√≥p n·ªïi b·∫≠t ho·∫∑c t∆∞∆°ng t√°c ch·∫•t l∆∞·ª£ng cao trong th·ªùi gian testnet s·∫Ω ƒë∆∞·ª£c BBO-Team xem x√©t v√† th∆∞·ªüng th√™m ƒëi·ªÉm sau khi k·∫øt th√∫c giai ƒëo·∫°n test.\n\n\n",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2360,
        3320
      ],
      "id": "fdca0675-ee91-4961-8d43-5dd05cd0ddd7",
      "name": "Telegram14",
      "webhookId": "e8ecaa39-ddb3-469a-8176-fd7daec63f6e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "60b6d8d9-95cf-42e7-be05-4949dd89d4f2",
              "leftValue": "={{ $('Telegram Trigger').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -2320,
        3540
      ],
      "id": "ecf4a428-8a00-4099-97fe-b808c3045da5",
      "name": "If10"
    },
    {
      "parameters": {
        "chatId": "={{ $json.callback_query.from.id }}",
        "text": "üìå Daily BBO Points Rules\n‚ú® The system will automatically aggregate and calculate points for users every day based on the number of questions you send to the chatbot.\n\n‚úÖ How to calculate points:\nüì• 1 question = 1 BBO\nEach valid question or interaction will be counted as 1 point.\n\nüö´ Maximum limit: 50 BBO/day\nTo avoid spam, the system only adds a maximum of 50 BBOs to each user in a day, even if you send more than 50 questions.\n\n‚Üí If you only send 30 questions ‚ûù you receive 30 BBOs\n‚Üí If you send 100 questions ‚ûù you only receive 50 BBOs\n\nüïí Point calculation time:\nYour points will be automatically updated at 23:50 every day.\n\nüéÅ Additional rewards for active users: \nüí° Users with outstanding contributions or high-quality interactions during the testnet period will be reviewed by the BBO-Team and awarded additional points after the end of the test period.\n\n\n",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2060,
        3560
      ],
      "id": "447e472e-52b8-4b4f-9d84-df8a44880a35",
      "name": "Telegram15",
      "webhookId": "e8ecaa39-ddb3-469a-8176-fd7daec63f6e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 2,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    },
                    "id": "48209589-e551-46e4-925a-3525424b77b6"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "DREP"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "62a4b49c-98c0-471e-9d74-deca7155d523",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 4,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "SPO"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "fe802ac8-f0c9-4750-8340-1039766562f8",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 6,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Committe"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "97a85122-7ba0-440b-acef-92377e6aada8",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 3,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "User"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "65be1f11-cd8f-4b6d-82a2-71d00f3c536e",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 5,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "holder"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        1380,
        740
      ],
      "id": "98b4f4d9-ffe7-4ccd-942a-d1b9fc13015a",
      "name": "Switch1"
    },
    {
      "parameters": {
        "jsCode": "const text = $json.output;\nconst escapedText = text.replace(/([_*[\\]()~`>#+-.!])/g, '\\\\$1');\nreturn { formatted_output: escapedText };"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -600,
        1960
      ],
      "id": "b4057cc8-1678-43c0-a41a-84eadd101b59",
      "name": "Code5"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to find the 10 most recent delegators ‚Äî a list of all delegators to the requested delegated representative. "
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2980,
        5340
      ],
      "id": "99cb1dc7-74e2-4184-8037-16eadf5b62e7",
      "name": "AI Agent3"
    },
    {
      "parameters": {
        "toolDescription": "th·ªông tin danh s√°ch 10 ng∆∞·ªùi ƒë√£ ·ªßy quy·ªÅn g·∫ßn ƒë√¢y nh·∫•t cho DRep",
        "url": "=https://api.koios.rest/api/v1/drep_delegators?_drep_id={{ $json.onchainId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2860,
        5440
      ],
      "id": "2b11230a-cd9f-4006-b879-c291ff972110",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2960,
        5440
      ],
      "id": "e336017d-19cf-42f4-9f54-e6b674e072f5",
      "name": "Google Gemini Chat Model6",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "text": "={{ $json.formatted_output }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "Markdown"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2300,
        5640
      ],
      "id": "86953e9c-2931-44a0-83d6-5166e6a55c4a",
      "name": "Message_Response2",
      "webhookId": "4a15a206-bd65-4f58-bdbc-afb595bfc89e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to find the 10 most recent I have voted on recently and present them in a message-friendly format that is easy to read and access."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2900,
        5640
      ],
      "id": "3a6f34a9-262a-4a8f-8601-296c3bf26bf2",
      "name": "AI Agent4"
    },
    {
      "parameters": {
        "toolDescription": " th√¥ng tin danh s√°ch ƒë√£ vote c·ªßa drep",
        "url": "=https://api.koios.rest/api/v1/voter_proposal_list?_voter_id=\n{{ $json.onchainId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2780,
        5760
      ],
      "id": "701a2cde-6b16-4fd4-8a95-6568191bc7ae",
      "name": "HTTP Request1"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2880,
        5740
      ],
      "id": "fb4f3b6f-f754-44bb-bf3e-50b4cb14ef7e",
      "name": "Google Gemini Chat Model7",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const text = $json.output;\nconst escapedText = text.replace(/([_*[\\]()~`>#+-.!])/g, '\\\\$1');\nreturn { formatted_output: escapedText };"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2500,
        5640
      ],
      "id": "da157fd1-b8bc-4b03-a8c2-379564e6d707",
      "name": "Code6"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. you should use the node tool HTTP request to retrieve  the information about Drep."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -3040,
        5000
      ],
      "id": "17f7bd9e-f975-46e9-ae65-b4aa830eee00",
      "name": "AI Agent5"
    },
    {
      "parameters": {
        "toolDescription": "information of DRep",
        "method": "POST",
        "url": "=http://14.241.247.68:8053/api/v1/drep_info",
        "sendHeaders": true,
        "parametersHeaders": {
          "values": [
            {
              "name": "accept",
              "valueProvider": "fieldValue",
              "value": "application/json"
            },
            {
              "name": "content-type",
              "valueProvider": "fieldValue",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\"_drep_ids\":[\"{{ $('Postgres13').item.json.onchainId }}\"]}\n "
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2900,
        5140
      ],
      "id": "f84bcd47-2d19-4fe3-8d7b-908bbd3e3e63",
      "name": "HTTP Request2"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -3020,
        5120
      ],
      "id": "fa885394-5bf6-4f03-9ffe-e3a1cc84ce17",
      "name": "Google Gemini Chat Model8",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3240,
        5000
      ],
      "id": "c5632567-ca2c-4912-b7c1-ee93f1f80656",
      "name": "Postgres13",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to find the 20 most recent I have voted on recently and present them in a message-friendly format that is easy to read and access."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2980,
        5980
      ],
      "id": "0682fc00-1d95-42d6-aa8c-f579571805bc",
      "name": "AI Agent6"
    },
    {
      "parameters": {
        "toolDescription": "th√¥ng tin L·ªãch s·ª≠ quy·ªÅn bi·ªÉu quy·∫øt c·ªßa DReps",
        "url": "=https://api.koios.rest/api/v1/drep_voting_power_history?_drep_id={{ $json.onchainId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2820,
        6100
      ],
      "id": "f2c65a90-32d5-497a-83f0-599c6704c76d",
      "name": "HTTP Request3"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2960,
        6100
      ],
      "id": "d36b5839-733f-4eab-80af-0eea0b8de429",
      "name": "Google Gemini Chat Model9",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "content": "Agent l·∫•y th√¥ng tin li√™n quan ƒë·∫øn Drep",
        "height": 1700,
        "width": 1240,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -3340,
        4920
      ],
      "id": "f97f5855-2a0e-43a9-b9e4-8dc9ba150a90",
      "name": "Sticky Note16"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        980,
        760
      ],
      "id": "a35f638e-3bac-4469-9439-9be888aef2bb",
      "name": "If13"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: {{ $json.telegramid }}\n-T√™n t√†i kho·∫£n: {{ $json.username }}\n-Ng√†y tham gia: {{ $json.joindate }}\n-Tr·∫°ng th√°i: {{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}\n-Vai tr√≤: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Kh√¥ng x√°c ƒë·ªãnh\"\n}}\n-Nh·∫≠n th√¥ng b√°o: {{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}\n-ƒêi·ªÉm th∆∞·ªüng: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Th√¥ng b√°o: <b>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</b>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ C·∫≠p nh·∫≠t vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin c·ªßa SPO",
                    "additionalFields": {
                      "callback_data": "api_spoinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ƒë√£ vote c·ªßa b·∫°n",
                    "additionalFields": {
                      "callback_data": "SPO_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ng∆∞·ªùi u·ª∑ quy·ªÅn",
                    "additionalFields": {
                      "callback_data": "pool_delegators"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1160,
        740
      ],
      "id": "2d4f934e-369f-440c-913d-c870fe0029d0",
      "name": "Telegram19",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: {{ $json.telegramid }}\n-Username: {{ $json.username }}\n-Join date: {{ $json.joindate }}\n-Status: {{ $json.isactive ? \"Active\" : \"Inactive\"}}\n-Role: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}\n-Notifications: {{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}\n-Points: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Notifications: <b>Sign up to receive notifications when new proposals are available</b>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ Update role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "SPO infomation",
                    "additionalFields": {
                      "callback_data": "api_spoinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Voting Power History",
                    "additionalFields": {
                      "callback_data": "SPO_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Pool Delegators List",
                    "additionalFields": {
                      "callback_data": "pool_delegators"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1020,
        600
      ],
      "id": "d88ce3af-252a-46e3-8e5f-af37c7e509ee",
      "name": "Telegram20",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to find Details of the 10 most recent voting sessions conducted by SPO ."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2980,
        7060
      ],
      "id": "332ce8de-a5b2-4b24-b107-3ef279928aca",
      "name": "AI Agent7"
    },
    {
      "parameters": {
        "toolDescription": "th·ªông tin danh s√°ch 10 l·∫ßn b·ªè phi·∫øu g·∫ßn ƒë√¢y nh·∫•t c·ªßa SPO",
        "url": "=https://api.koios.rest/api/v1/pool_voting_power_history?_pool_bech32={{ $json.onchainId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2820,
        7200
      ],
      "id": "bd6fff5a-b74e-4553-8468-26233edba6d1",
      "name": "HTTP Request4"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2960,
        7180
      ],
      "id": "312e4bcc-c50c-4059-aa26-46d6be58b0ee",
      "name": "Google Gemini Chat Model10",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "text": "={{ $json.formatted_output }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "Markdown"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2300,
        7060
      ],
      "id": "c5a60f8a-cba4-4fa9-9c22-998bfa44127c",
      "name": "Message_Response6",
      "webhookId": "4a15a206-bd65-4f58-bdbc-afb595bfc89e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to find Details of the most recent 10 individuals who have delegated to the SPO.."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2960,
        7380
      ],
      "id": "0c43573f-1de0-4821-ae76-2f8b4087fb19",
      "name": "AI Agent8"
    },
    {
      "parameters": {
        "toolDescription": " th√¥ng tin danh s√°ch ng∆∞·ªùi ƒë√£ vote cho SPO",
        "url": "=https://api.koios.rest/api/v1/pool_delegators?_pool_bech32={{ $json.onchainId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2780,
        7500
      ],
      "id": "24bf599d-3e52-41e0-9871-e2cd48046d88",
      "name": "HTTP Request5"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2940,
        7500
      ],
      "id": "f5cd45fc-0fee-41aa-b338-194f3dbdaf7d",
      "name": "Google Gemini Chat Model11",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const text = $json.output;\nconst escapedText = text.replace(/([_*[\\]()~`>#+-.!])/g, '\\\\$1');\nreturn { formatted_output: escapedText };"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2520,
        7060
      ],
      "id": "9d5c817d-0315-4da9-b964-c1982ae26791",
      "name": "Code10"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to retrieve  the information about SPO."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2980,
        6720
      ],
      "id": "6875d253-ff0d-4fe0-8e13-306ab195639d",
      "name": "AI Agent9"
    },
    {
      "parameters": {
        "toolDescription": "th√¥ng tin c·ªßa SPO",
        "method": "POST",
        "url": "=http://14.241.247.68:8053/api/v1/pool_info",
        "sendHeaders": true,
        "parametersHeaders": {
          "values": [
            {
              "name": "accept",
              "valueProvider": "fieldValue",
              "value": "application/json"
            },
            {
              "name": "content-type",
              "valueProvider": "fieldValue",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\"_pool_bech32_ids\":[\"{{ $json.onchainId }}\"]}\n\n"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2840,
        6840
      ],
      "id": "060226ac-b9c5-459c-af32-c9ad59f79a64",
      "name": "HTTP Request6"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2960,
        6840
      ],
      "id": "3b73910e-428d-4534-a3a1-c38b545b372e",
      "name": "Google Gemini Chat Model12",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3220,
        6720
      ],
      "id": "32b7ef42-429a-4963-bf7a-51d9cffffe2f",
      "name": "Postgres17",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "content": "Agent l·∫•y th√¥ng tin li√™n quan ƒë·∫øn SPO",
        "height": 1020,
        "width": 1240,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -3340,
        6640
      ],
      "id": "3b77f834-e6d1-4a30-a391-0f3e82858ae0",
      "name": "Sticky Note17"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        220,
        280
      ],
      "id": "c8e0e1e0-ac34-4d40-92f5-33afeaa1bedd",
      "name": "If14"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: {{ $json.telegramid }}\n-T√™n t√†i kho·∫£n: {{ $json.username }}\n-Ng√†y tham gia: {{ $json.joindate }}\n-Tr·∫°ng th√°i: {{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}\n-Vai tr√≤: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Kh√¥ng x√°c ƒë·ªãnh\"\n}}\n-Nh·∫≠n th√¥ng b√°o: {{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}\n-ƒêi·ªÉm th∆∞·ªüng: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Th√¥ng b√°o: <b>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</b>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ C·∫≠p nh·∫≠t vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin ·ªßy ban",
                    "additionalFields": {
                      "callback_data": "api_CCinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ƒë√£ vote c·ªßa ·ªßy ban",
                    "additionalFields": {
                      "callback_data": "committee_votes"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        420,
        260
      ],
      "id": "4cee7880-1298-4b01-b1f8-0012e5ff7da3",
      "name": "Telegram21",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: {{ $json.telegramid }}\n-Username: {{ $json.username }}\n-Join date: {{ $json.joindate }}\n-Status: {{ $json.isactive ? \"Active\" : \"Inactive\"}}\n-Role: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}\n-Notifications: {{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}\n-Points: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Notifications: <b>Sign up to receive notifications when new proposals are available</b>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ Update role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Committee Information",
                    "additionalFields": {
                      "callback_data": "api_CCinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Committee Votes",
                    "additionalFields": {
                      "callback_data": "committee_votes"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        120,
        120
      ],
      "id": "fb820b67-4cd3-4f3f-9ee9-749166d1452b",
      "name": "Telegram22",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to find Committee Information ."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2920,
        7820
      ],
      "id": "61a17a14-fb2c-4349-bd9a-d0ae28999ce9",
      "name": "AI Agent10"
    },
    {
      "parameters": {
        "toolDescription": "th·ªông tin  c·ªßa Committee",
        "url": "=https://api.koios.rest/api/v1/committee_info"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2760,
        7940
      ],
      "id": "ec3ccd79-3cef-47a1-aa38-e96fbf1c592c",
      "name": "HTTP Request7"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2920,
        7940
      ],
      "id": "976c4fac-7d3a-404f-8a9b-748a93a327ea",
      "name": "Google Gemini Chat Model13",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "text": "={{ $json.formatted_output }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "Markdown"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -2340,
        7980
      ],
      "id": "80a0b1b8-7e51-41ce-a073-217f5ff5bf21",
      "name": "Message_Response9",
      "webhookId": "4a15a206-bd65-4f58-bdbc-afb595bfc89e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.onchainId }}",
        "options": {
          "systemMessage": "=You are an expert in content editing and formatting according to SEO standards. When I provide {{ $json.onchainId }}, you should use the node tool HTTP request to find Details of the most recent 15 individuals who have delegated to the SPO.."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -2940,
        8140
      ],
      "id": "8a494a44-51c5-4f24-8c52-9309e45398a3",
      "name": "AI Agent11"
    },
    {
      "parameters": {
        "toolDescription": " th√¥ng tin danh s√°ch  ƒë√£ vote c·ªßa Committee",
        "url": "=https://api.koios.rest/api/v1/committee_votes?_cc_hot_id={{ $json.onchainId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2760,
        8260
      ],
      "id": "eb670cf6-f0c2-4cfb-ba02-f4929765e875",
      "name": "HTTP Request8"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2920,
        8260
      ],
      "id": "4fb20a2f-6cda-43ee-94c6-625800f38314",
      "name": "Google Gemini Chat Model14",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const text = $json.output;\nconst escapedText = text.replace(/([_*[\\]()~`>#+-.!])/g, '\\\\$1');\nreturn { formatted_output: escapedText };"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2540,
        7980
      ],
      "id": "8f500a9e-1017-4bb6-bc73-efd270366724",
      "name": "Code13"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3200,
        7820
      ],
      "id": "09fc2b14-feda-4173-ba7d-c8baa0600f5f",
      "name": "Postgres19",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "content": "Agent l·∫•y th√¥ng tin li√™n quan ƒë·∫øn CC",
        "height": 760,
        "width": 1240,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -3340,
        7700
      ],
      "id": "6ed2802c-a86e-4cec-8272-323596be781d",
      "name": "Sticky Note19"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=\"Information About Epoch recently\"",
        "options": {
          "systemMessage": "=You are an expert with in-depth knowledge of the Cardano blockchain ecosystem and You are an expert in content editing and formatting according to SEO standards.you should use the node tool HTTP request to find Information About Epoch most recently"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -3000,
        6320
      ],
      "id": "c0d0b572-78f6-4c49-9b8c-451782d5caf2",
      "name": "AI Agent12"
    },
    {
      "parameters": {
        "toolDescription": "Information About Epoch most recently",
        "url": "=https://api.koios.rest/api/v1/epoch_params?_epoch_no=555"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -2820,
        6460
      ],
      "id": "7fc5d2ea-9d4c-4c18-9090-c763bf1420b9",
      "name": "HTTP Request9"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -2980,
        6440
      ],
      "id": "6c09d4b0-e931-4616-ba99-7f3c378e4fb0",
      "name": "Google Gemini Chat Model15",
      "credentials": {
        "googlePalmApi": {
          "id": "eUIE30XHECF8JRZ7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "3c219d29-93a0-4566-8bd8-4fc301282720",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        560,
        4900
      ],
      "id": "fea4acf1-7eed-47e9-9f6f-463afe35a9d3",
      "name": "If12"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚ú®Th√¥ng tin c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t.‚ú®\nVui l√≤ng nh·∫≠p /account ƒë·ªÉ ki·ªÉm tra thay ƒë·ªïi!",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        860,
        4780
      ],
      "id": "d720df74-dc5d-40e5-89e3-0b479995833c",
      "name": "Telegram17",
      "webhookId": "8f2cf665-bcbd-4670-b62b-80fb13d1a198",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "‚ú®Your information has been updated.‚ú®\nPlease enter /account to check for changes!",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        860,
        5000
      ],
      "id": "5bab8918-6a21-47b6-b18c-68b3ab0b4af1",
      "name": "Telegram18",
      "webhookId": "8f2cf665-bcbd-4670-b62b-80fb13d1a198",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "content": "‚ú® L·ªánh /id ‚ú®\nC·∫≠p nh·∫≠t id on-chain c·ªßa user",
        "height": 440,
        "width": 1120
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        440,
        4720
      ],
      "id": "8e6ca0c4-cca8-42b9-bdf3-d598ab4731c0",
      "name": "Sticky Note18"
    },
    {
      "parameters": {
        "jsCode": "// L·∫•y d·ªØ li·ªáu t·ª´ node \"Telegram Trigger\"\nlet originalString = $('Telegram Trigger').first().json.message.text;\n\n// Lo·∫°i b·ªè 3 k√Ω t·ª± ƒë·∫ßu\nlet trimmedString = originalString.slice(4);\n\n// Tr·∫£ v·ªÅ m·∫£ng g·ªìm 1 object nh∆∞ h·ªá th·ªëng y√™u c·∫ßu\nreturn [\n  {\n    trimmedText: trimmedString\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1120,
        4900
      ],
      "id": "0c983988-33a8-4c53-ba38-0a13dc498a85",
      "name": "Code9"
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "bbo_user",
          "mode": "list",
          "cachedResultName": "bbo_user"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "onchainId": "={{ $json.trimmedText }}",
            "telegramid": "={{ $('Telegram Trigger').item.json.message.from.id }}"
          },
          "matchingColumns": [
            "telegramid"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "telegramid",
              "displayName": "telegramid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "username",
              "displayName": "username",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "joindate",
              "displayName": "joindate",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "lastactive",
              "displayName": "lastactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "isactive",
              "displayName": "isactive",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "password",
              "displayName": "password",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "roleid",
              "displayName": "roleid",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "allownoti",
              "displayName": "allownoti",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "point",
              "displayName": "point",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "onchainId",
              "displayName": "onchainId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1320,
        4900
      ],
      "id": "c308e6d0-1e3c-4cce-9634-ed1b29977dab",
      "name": "Postgres14",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.result.chat.id }}",
        "tableName": "=n8n_chat_histories"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        2720,
        3180
      ],
      "id": "5ba49f25-5c9c-456c-8f58-eeebd6582597",
      "name": "Postgres Chat Memory4",
      "notesInFlow": false,
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.chat_id }}",
        "text": "=‚ú®Th√¥ng b√°o t·ª´ h·ªá th·ªëng - C√≥ user ƒëƒÉng k√Ω m·ªõi: {{ $('Telegram Trigger').item.json.message.from.username }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3100,
        2480
      ],
      "id": "4d02581b-16c6-405a-a3fa-8b4d0c464b42",
      "name": "Telegram23",
      "webhookId": "9f006843-3af4-4e38-9545-140979bb4a6e",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return [\n  { json: { chat_id: \"1130536200\" } },\n  { json: { chat_id: \"1614089714\" } },\n  { json: { chat_id: \"7860424712\" } },\n  { json: { chat_id: \"2022256272\" } },\n  { json: { chat_id: \"7711678283\" } }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2900,
        2480
      ],
      "id": "54cd4b59-8701-43d4-8da5-0a83e075d40b",
      "name": "Code8"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Telegram Trigger').item.json.message.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        260,
        760
      ],
      "id": "1e04087e-8a20-442e-9ca3-100b47d6bb44",
      "name": "If16"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: <i>{{ $json.telegramid }}</i>\n-T√™n t√†i kho·∫£n: <i>{{ $json.username }}</i>\n-Ng√†y tham gia: <i>{{ $json.joindate }}</i>\n-Tr·∫°ng th√°i: <i>{{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}</i>\n-Vai tr√≤: <i>{{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}</i>\n-Nh·∫≠n th√¥ng b√°o: <i>{{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}</i>\n-ƒêi·ªÉm th∆∞·ªüng: <i>{{ $json.point ?? 0}} BBO</i>\n-Onchain ID: <i>{{ $json.onchainId ?? null }}</i>\n\nüê≥Vai tr√≤: <i>C·∫≠p nh·∫≠t vai tr√≤ tham gia</i>\nüê≥Th√¥ng b√°o: <i>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</i>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        440,
        740
      ],
      "id": "52811bfe-4a81-47f1-a8ed-402353062559",
      "name": "Telegram24",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: <i>{{ $json.telegramid }}</i>\n-Username: <i>{{ $json.username }}</i>\n-Join date: <i>{{ $json.joindate }}</i>\n-Status: <i>{{ $json.isactive ? \"Active\" : \"Inactive\"}}</i>\n-Role: <i>{{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}</i>\n-Notifications: <i>{{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}</i>\n-Points: <i>{{ $json.point ?? 0}} BBO</i>\n-Onchain ID: <i>{{ $json.onchainId ?? null }}</i>\n\nüê≥Notifications: <i>Sign up to receive notifications when new proposals are available</i>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        200,
        600
      ],
      "id": "741559e3-914d-4887-a67e-6b12d9561503",
      "name": "Telegram25",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3240,
        5340
      ],
      "id": "457aeb96-ada4-4c3f-ba3f-d015ee7dff7e",
      "name": "Postgres15",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3220,
        5640
      ],
      "id": "58bab6c6-b540-4c6b-9fe2-043343704b14",
      "name": "Postgres16",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3220,
        5980
      ],
      "id": "cb1b4a0f-f225-4d34-9da4-ce9cb9f53e13",
      "name": "Postgres18",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3220,
        6320
      ],
      "id": "267fe5f5-a3ed-4e42-a234-b5f13499fc65",
      "name": "Postgres20",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3220,
        7380
      ],
      "id": "24f3b988-c29d-4fc5-bfa0-3fe821318a88",
      "name": "Postgres21",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3220,
        7060
      ],
      "id": "255dc42b-dd56-408f-8c5b-32237376661f",
      "name": "Postgres22",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=select * from bbo_user where telegramid = {{ $('Telegram Trigger').item.json.callback_query.from.id }}",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -3200,
        8140
      ],
      "id": "8c36796f-b20d-4ff3-ad9e-f9ebec31d81f",
      "name": "Postgres23",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "142191f1-8224-4116-81cd-704a059953f6",
              "leftValue": "={{ $json.message.text }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1180,
        3200
      ],
      "id": "032a1c75-76e5-407d-a3bc-7c79e6c069c0",
      "name": "If15"
    },
    {
      "parameters": {
        "jsCode": "const questions = [\n  \"Hi·∫øn ph√°p Cardano l√† g√¨?\",\n  \"T·∫°i sao Cardano c·∫ßn m·ªôt hi·∫øn ph√°p?\",\n  \"Ai c√≥ th·ªÉ tham gia v√†o vi·ªác b·ªè phi·∫øu tr√™n Cardano?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ ƒë·ªÅ xu·∫•t thay ƒë·ªïi tr√™n Cardano?\",\n  \"Hi·∫øn ph√°p Cardano c√≥ th·ªÉ thay ƒë·ªïi kh√¥ng?\",\n  \"Voltaire l√† g√¨ v√† n√≥ li√™n quan ƒë·∫øn Hi·∫øn ph√°p ra sao?\",\n  \"Qu·ªπ Treasury c·ªßa Cardano ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ tham gia v√†o vi·ªác qu·∫£n tr·ªã Cardano?\",\n  \"C√≥ t·ªï ch·ª©c n√†o gi√°m s√°t Hi·∫øn ph√°p Cardano kh√¥ng?\",\n  \"Hi·∫øn ph√°p c√≥ gi√∫p Cardano ch·ªëng l·∫°i s·ª± ki·ªÉm so√°t t·∫≠p trung kh√¥ng?\",\n  \"Cardano l√† g√¨ v√† n√≥ kh√°c g√¨ so v·ªõi Bitcoin ho·∫∑c Ethereum?\",\n  \"ADA l√† g√¨ v√† t·∫°i sao n√≥ quan tr·ªçng trong h·ªá sinh th√°i Cardano?\",\n  \"Staking tr√™n Cardano ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o v√† c√≥ an to√†n kh√¥ng?\",\n  \"Giai ƒëo·∫°n ph√°t tri·ªÉn c·ªßa Cardano g·ªìm nh·ªØng g√¨ (Byron, Shelley, Goguen, Basho, Voltaire)?\",\n  \"Smart contract tr√™n Cardano l√† g√¨ v√† n√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m g√¨?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ mua v√† l∆∞u tr·ªØ ADA m·ªôt c√°ch an to√†n?\",\n  \"Cardano c√≥ ∆∞u ƒëi·ªÉm g√¨ so v·ªõi c√°c blockchain kh√°c?\",\n  \"Project Catalyst l√† g√¨ v√† n√≥ gi√∫p c·ªông ƒë·ªìng Cardano nh∆∞ th·∫ø n√†o?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ tr·ªü th√†nh m·ªôt nh√† ƒëi·ªÅu h√†nh Pool Staking (SPO) tr√™n Cardano?\",\n  \"T∆∞∆°ng lai c·ªßa Cardano s·∫Ω ra sao v·ªõi c√°c c·∫≠p nh·∫≠t s·∫Øp t·ªõi?\"\n];\n\n// Ch·ªçn ng·∫´u nhi√™n 3 c√¢u h·ªèi kh√¥ng tr√πng l·∫∑p\nconst shuffled = questions.sort(() => 0.5 - Math.random());\nconst selectedQuestions = shuffled.slice(0, 10); // L·∫•y 3 c√¢u h·ªèi\n\n// T·∫°o inline keyboard (tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON tr·ª±c ti·∫øp)\nconst inlineKeyboard = {\n  inline_keyboard: selectedQuestions.map((_, index) => [\n    {\n      text: `${index + 1}`, // Hi·ªÉn th·ªã s·ªë tr√™n button\n      callback_data: `question_${index}` // G√°n callback_data v·ªõi ch·ªâ s·ªë\n    }\n  ])\n};\n\n// T·∫°o ƒë·ªãnh d·∫°ng ƒë·∫ßu ra cho c√¢u h·ªèi\nconst formattedQuestions = selectedQuestions\n  .map((question, index) => `${index + 1}. ${question}`)\n  .join('\\n');\n\n// Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON\nreturn [{\n  json: {\n    random_questions: formattedQuestions,\n    reply_markup: inlineKeyboard, // Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng thay v√¨ chu·ªói\n    selected_questions: selectedQuestions\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1880,
        1220
      ],
      "id": "231c22f1-1045-40ec-b42b-ba16f676cbf5",
      "name": "CodeRandom"
    },
    {
      "parameters": {
        "jsCode": "const questions = [\n  \"What is the Cardano Constitution?\",\n  \"Why does Cardano need a constitution?\",\n  \"Who can participate in voting on Cardano?\",\n  \"How can changes be proposed on Cardano?\",\n  \"Can the Cardano Constitution be changed?\",\n  \"What is Voltaire and how is it related to the Constitution?\",\n  \"How does the Cardano Treasury Fund operate?\",\n  \"How can one participate in Cardano governance?\",\n  \"Is there any organization overseeing the Cardano Constitution?\",\n  \"Does the Constitution help Cardano resist centralized control?\",\n  \"What is Cardano and how does it differ from Bitcoin or Ethereum?\",\n  \"What is ADA and why is it important in the Cardano ecosystem?\",\n  \"How does staking work on Cardano, and is it safe?\",\n  \"What are the development phases of Cardano (Byron, Shelley, Goguen, Basho, Voltaire)?\",\n  \"What are smart contracts on Cardano and what are they used for?\",\n  \"How can one buy and store ADA safely?\",\n  \"What advantages does Cardano have over other blockchains?\",\n  \"What is Project Catalyst and how does it benefit the Cardano community?\",\n  \"How can one become a Stake Pool Operator (SPO) on Cardano?\",\n  \"What is the future of Cardano with upcoming updates?\"\n];\n// Ch·ªçn ng·∫´u nhi√™n 3 c√¢u h·ªèi kh√¥ng tr√πng l·∫∑p\nconst shuffled = questions.sort(() => 0.5 - Math.random());\nconst selectedQuestions = shuffled.slice(0, 10); // L·∫•y 3 c√¢u h·ªèi\n\n\n// T·∫°o inline keyboard (tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON tr·ª±c ti·∫øp)\nconst inlineKeyboard = {\n  inline_keyboard: selectedQuestions.map((_, index) => [\n    {\n      text: `${index + 1}`, // Hi·ªÉn th·ªã s·ªë tr√™n button\n      callback_data: `question_${index}` // G√°n callback_data v·ªõi ch·ªâ s·ªë\n    }\n  ])\n};\n\n// T·∫°o ƒë·ªãnh d·∫°ng ƒë·∫ßu ra cho c√¢u h·ªèi\nconst formattedQuestions = selectedQuestions\n  .map((question, index) => `${index + 1}. ${question}`)\n  .join('\\n');\n\n// Chuy·ªÉn selected_questions th√†nh chu·ªói JSON\nconst selectedQuestionsJson = JSON.stringify(selectedQuestions);\n// Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON\nreturn [{\n  json: {\n    random_questions: formattedQuestions,\n    reply_markup: inlineKeyboard, // Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng thay v√¨ chu·ªói\n    selected_questions: selectedQuestionsJson // Chu·ªói JSON thay v√¨ m·∫£ng\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1880,
        1420
      ],
      "id": "93535f5d-09ae-4a83-8615-1e115e2f1eba",
      "name": "CodeRandom1"
    },
    {
      "parameters": {
        "chatId": "={{ $json.message.chat.id }}",
        "text": "Typing...",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2340,
        3020
      ],
      "id": "af25fb54-c528-4a62-a53e-6b779fa1b020",
      "name": "Telegram27",
      "webhookId": "a8c67252-0436-4e80-b080-49391d923525",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "operation": "deleteMessage",
        "chatId": "={{ $('Telegram27').item.json.result.chat.id }}",
        "messageId": "={{ $('Telegram27').item.json.result.message_id }}"
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2960,
        3020
      ],
      "id": "f4b3860a-f3f2-4f7e-b42b-f55a3fcafd4c",
      "name": "Telegram28",
      "webhookId": "c0ed9ff5-579d-434d-bd96-01ee34a7c79b",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch').item.json.message.from.id }}",
        "text": "=‚ú®<b>Choose a suggested question to start the conversation!</b>\n<i>Please press a number from 1 to 10 to view the question:</i>\n\n{{ $json.random_questions }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[0][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[0][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[1][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[1][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[2][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[2][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[3][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[3][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[4][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[4][0].callback_data }}"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[5][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[5][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[6][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[6][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[7][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[7][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[8][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[8][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[9][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[9][0].callback_data }}"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2140,
        1420
      ],
      "id": "f132c56e-4afb-4e66-976c-8599736e755e",
      "name": "Mes_Filter_EN",
      "webhookId": "80d77a2b-b6f1-44bb-8804-c02e7c1a3f01",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "26d0d0f5-34c8-4569-928b-c5892fb09fcd",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "=help",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query_help"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "3e01a50c-5f66-4eb9-91a8-ed665c061451",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "find",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query-fild "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "b2202515-d4d3-4a60-a8cf-ccfc45a0b2d8",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "account",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query-account "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "bdeaa39a-6027-4480-b190-c9ecb15842d9",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "feedback",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query-feedback"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "c1397e6d-ba52-4cd2-b65a-04f9706e3312",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "role",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "query-role "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "1c047f91-19a8-4cc0-ba00-830664b1ea69",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "turn_on",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "active-noti"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "52f60168-70d8-4a64-b9fb-455a0bc707fb",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "turn_off",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "inactive-noti"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "70631c71-dc7c-4a7d-a6cd-04d37a14ca0d",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "rulebbo_point",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "term-and-policy"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "e0c3cf13-3a2f-48ba-9831-5879613c5e95",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "check_point",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "check point "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "6c314402-f0df-42a5-9e67-f6fd56843683",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "drep",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "update-role-drep"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "bddf8527-8bfe-4d6b-991b-362a3afb8d37",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "user",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "update-role-user"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "72013ef4-5a13-46ae-86b4-a6a41bcda42d",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "holder",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "update-role-holder"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "5ab56ef1-6ef7-492c-93ad-e8c5b4717b90",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "spo",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "update-role-spo"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "e40c1de7-1298-4d26-98f2-fd96d35cf199",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "committe",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "update-role-cc"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "3d08564a-b898-4950-beb2-c1355f927077",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "api_drepinformation",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Drep information "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "778700d2-64e5-49df-a07f-1b224ee368c5",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "DReps_Delegators",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Drep delegators  "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "22104325-b6df-492c-bca2-6e1379bd6085",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "voter_proposal_list",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Voter proposal list "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "b1f0bb40-0959-45bd-ae6e-cb45e78f3262",
                    "leftValue": "{{ $json.callback_query.data }}",
                    "rightValue": "Drep_voting_power_history",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Drep voting power history "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "e748bbec-d0d1-4856-a984-bd63f4ab5a73",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "epoch_params",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Epoch params"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "454b9147-8608-4c53-aff1-b3e937d81e8b",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "api_spoinformation",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "spo information "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "7cd50a59-9a60-41f4-8ccf-18f0ad2e8f53",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "SPO_voting_power_history",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "spo voting power history"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "1fc27fa5-43ae-4542-b704-ac098a2f14b8",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "pool_delegators",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "pool delegators "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "01a32ed9-2439-46b0-be1c-5d9a9a9406f7",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "api_CCinformation",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "CC information "
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "e45ee9b3-0e0a-4d57-a9db-4374dc91dd31",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "committee_votes",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "CC votes"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "f350a442-ec72-4e64-84ed-4765abf1bdc5",
                    "leftValue": "={{ $json.callback_query.data }}",
                    "rightValue": "question",
                    "operator": {
                      "type": "string",
                      "operation": "startsWith"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Handle_question "
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -1340,
        3720
      ],
      "id": "21173a76-dc40-4dfd-a792-eeb04802e163",
      "name": "Switch Call Back"
    },
    {
      "parameters": {
        "jsCode": "const questions = [\n  \"Hi·∫øn ph√°p Cardano l√† g√¨?\",\n  \"T·∫°i sao Cardano c·∫ßn m·ªôt hi·∫øn ph√°p?\",\n  \"Ai c√≥ th·ªÉ tham gia v√†o vi·ªác b·ªè phi·∫øu tr√™n Cardano?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ ƒë·ªÅ xu·∫•t thay ƒë·ªïi tr√™n Cardano?\",\n  \"Hi·∫øn ph√°p Cardano c√≥ th·ªÉ thay ƒë·ªïi kh√¥ng?\",\n  \"Voltaire l√† g√¨ v√† n√≥ li√™n quan ƒë·∫øn Hi·∫øn ph√°p ra sao?\",\n  \"Qu·ªπ Treasury c·ªßa Cardano ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ tham gia v√†o vi·ªác qu·∫£n tr·ªã Cardano?\",\n  \"C√≥ t·ªï ch·ª©c n√†o gi√°m s√°t Hi·∫øn ph√°p Cardano kh√¥ng?\",\n  \"Hi·∫øn ph√°p c√≥ gi√∫p Cardano ch·ªëng l·∫°i s·ª± ki·ªÉm so√°t t·∫≠p trung kh√¥ng?\",\n  \"Cardano l√† g√¨ v√† n√≥ kh√°c g√¨ so v·ªõi Bitcoin ho·∫∑c Ethereum?\",\n  \"ADA l√† g√¨ v√† t·∫°i sao n√≥ quan tr·ªçng trong h·ªá sinh th√°i Cardano?\",\n  \"Staking tr√™n Cardano ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o v√† c√≥ an to√†n kh√¥ng?\",\n  \"Giai ƒëo·∫°n ph√°t tri·ªÉn c·ªßa Cardano g·ªìm nh·ªØng g√¨ (Byron, Shelley, Goguen, Basho, Voltaire)?\",\n  \"Smart contract tr√™n Cardano l√† g√¨ v√† n√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m g√¨?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ mua v√† l∆∞u tr·ªØ ADA m·ªôt c√°ch an to√†n?\",\n  \"Cardano c√≥ ∆∞u ƒëi·ªÉm g√¨ so v·ªõi c√°c blockchain kh√°c?\",\n  \"Project Catalyst l√† g√¨ v√† n√≥ gi√∫p c·ªông ƒë·ªìng Cardano nh∆∞ th·∫ø n√†o?\",\n  \"L√†m th·∫ø n√†o ƒë·ªÉ tr·ªü th√†nh m·ªôt nh√† ƒëi·ªÅu h√†nh Pool Staking (SPO) tr√™n Cardano?\",\n  \"T∆∞∆°ng lai c·ªßa Cardano s·∫Ω ra sao v·ªõi c√°c c·∫≠p nh·∫≠t s·∫Øp t·ªõi?\"\n];\n\n// Ch·ªçn ng·∫´u nhi√™n 3 c√¢u h·ªèi kh√¥ng tr√πng l·∫∑p\nconst shuffled = questions.sort(() => 0.5 - Math.random());\nconst selectedQuestions = shuffled.slice(0, 10); // L·∫•y 3 c√¢u h·ªèi\n\n// T·∫°o inline keyboard (tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON tr·ª±c ti·∫øp)\nconst inlineKeyboard = {\n  inline_keyboard: selectedQuestions.map((_, index) => [\n    {\n      text: `${index + 1}`, // Hi·ªÉn th·ªã s·ªë tr√™n button\n      callback_data: `question_${index}` // G√°n callback_data v·ªõi ch·ªâ s·ªë\n    }\n  ])\n};\n\n// T·∫°o ƒë·ªãnh d·∫°ng ƒë·∫ßu ra cho c√¢u h·ªèi\nconst formattedQuestions = selectedQuestions\n  .map((question, index) => `${index + 1}. ${question}`)\n  .join('\\n');\n\n// Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON\nreturn [{\n  json: {\n    random_questions: formattedQuestions,\n    reply_markup: inlineKeyboard // Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng thay v√¨ chu·ªói\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4900,
        3320
      ],
      "id": "0316735e-f0c3-4f20-85af-06117e14044b",
      "name": "CodeRandom2"
    },
    {
      "parameters": {
        "jsCode": "const questions = [\n  \"What is the Cardano Constitution?\",\n  \"Why does Cardano need a constitution?\",\n  \"Who can participate in voting on Cardano?\",\n  \"How can changes be proposed on Cardano?\",\n  \"Can the Cardano Constitution be changed?\",\n  \"What is Voltaire and how is it related to the Constitution?\",\n  \"How does the Cardano Treasury Fund operate?\",\n  \"How can one participate in Cardano governance?\",\n  \"Is there any organization overseeing the Cardano Constitution?\",\n  \"Does the Constitution help Cardano resist centralized control?\",\n  \"What is Cardano and how does it differ from Bitcoin or Ethereum?\",\n  \"What is ADA and why is it important in the Cardano ecosystem?\",\n  \"How does staking work on Cardano, and is it safe?\",\n  \"What are the development phases of Cardano (Byron, Shelley, Goguen, Basho, Voltaire)?\",\n  \"What are smart contracts on Cardano and what are they used for?\",\n  \"How can one buy and store ADA safely?\",\n  \"What advantages does Cardano have over other blockchains?\",\n  \"What is Project Catalyst and how does it benefit the Cardano community?\",\n  \"How can one become a Stake Pool Operator (SPO) on Cardano?\",\n  \"What is the future of Cardano with upcoming updates?\"\n];\n// Ch·ªçn ng·∫´u nhi√™n 3 c√¢u h·ªèi kh√¥ng tr√πng l·∫∑p\nconst shuffled = questions.sort(() => 0.5 - Math.random());\nconst selectedQuestions = shuffled.slice(0, 10); // L·∫•y 3 c√¢u h·ªèi\n\n// T·∫°o inline keyboard (tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON tr·ª±c ti·∫øp)\nconst inlineKeyboard = {\n  inline_keyboard: selectedQuestions.map((_, index) => [\n    {\n      text: `${index + 1}`, // Hi·ªÉn th·ªã s·ªë tr√™n button\n      callback_data: `question_${index}` // G√°n callback_data v·ªõi ch·ªâ s·ªë\n    }\n  ])\n};\n\n// T·∫°o ƒë·ªãnh d·∫°ng ƒë·∫ßu ra cho c√¢u h·ªèi\nconst formattedQuestions = selectedQuestions\n  .map((question, index) => `${index + 1}. ${question}`)\n  .join('\\n');\n\n// Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng JSON\nreturn [{\n  json: {\n    random_questions: formattedQuestions,\n    reply_markup: inlineKeyboard // Tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng thay v√¨ chu·ªói\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -4580,
        3540
      ],
      "id": "ec8049c1-2117-4e90-99c8-01562524502e",
      "name": "CodeRandom3"
    },
    {
      "parameters": {
        "chatId": "={{ $('If_Call_Filter').item.json.callback_query.from.id }}",
        "text": "=‚ú®<b>Ch·ªçn m·ªôt c√¢u h·ªèi g·ª£i √Ω ƒë·ªÉ b·∫Øt cu·ªôc tr√≤ chuy·ªán!</b>\n<i>Vui l√≤ng nh·∫•n v√†o m·ªôt s·ªë t·ª´ 1 ƒë·∫øn 10 ƒë·ªÉ xem c√¢u h·ªèi</i>:\n\n{{ $json.random_questions }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[0][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[0][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[1][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[1][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[2][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[2][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[3][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[3][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[4][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[4][0].callback_data }}"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[5][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[5][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[6][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[6][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[7][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[7][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[8][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[8][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[9][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[9][0].callback_data }}"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4600,
        3320
      ],
      "id": "d89b6dcc-0424-4086-8dc9-4723c0bf9f22",
      "name": "Mes_Filter_Vi1",
      "webhookId": "80d77a2b-b6f1-44bb-8804-c02e7c1a3f01",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('If_Call_Filter').item.json.callback_query.from.id }}",
        "text": "=‚ú®<b>Choose a suggested question to start the conversation!</b>\n<i>Please press a number from 1 to 10 to view the question:</i>\n\n{{ $json.random_questions }}",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[0][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[0][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[1][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[1][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[2][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[2][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[3][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[3][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[4][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[4][0].callback_data }}"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[5][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[5][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[6][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[6][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[7][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[7][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[8][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[8][0].callback_data }}"
                    }
                  },
                  {
                    "text": "={{ $json.reply_markup.inline_keyboard[9][0].text }}",
                    "additionalFields": {
                      "callback_data": "={{ $json.reply_markup.inline_keyboard[9][0].callback_data }}"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4320,
        3540
      ],
      "id": "4c2d2722-3223-4528-9c0e-87f999e3eb0a",
      "name": "Mes_Filter_EN1",
      "webhookId": "80d77a2b-b6f1-44bb-8804-c02e7c1a3f01",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Switch Call Back').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5020,
        4260
      ],
      "id": "c852e51d-c86f-464c-9c04-9afc1df4ea7c",
      "name": "If17"
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: {{ $json.telegramid }}\n-T√™n t√†i kho·∫£n: {{ $json.username }}\n-Ng√†y tham gia: {{ $json.joindate }}\n-Tr·∫°ng th√°i: {{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}\n-Vai tr√≤: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Kh√¥ng x√°c ƒë·ªãnh\"\n}}\n-Nh·∫≠n th√¥ng b√°o: {{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}\n-ƒêi·ªÉm th∆∞·ªüng: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Th√¥ng b√°o: <b>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</b>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin Drep",
                    "additionalFields": {
                      "callback_data": "api_drepinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ·ªßy quy·ªÅn cho b·∫°n",
                    "additionalFields": {
                      "callback_data": "DReps_Delegators"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ƒë√£ vote c·ªßa b·∫°n",
                    "additionalFields": {
                      "callback_data": "voter_proposal_list"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "L·ªãch s·ª≠ quy·ªÅn bi·ªÉu quy·∫øt c·ªßa b·∫°n",
                    "additionalFields": {
                      "callback_data": "Drep_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin v·ªÅ  epoch",
                    "additionalFields": {
                      "callback_data": "epoch_params"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -4800,
        4240
      ],
      "id": "d5557f28-574f-43a9-be3a-b27be2116766",
      "name": "Telegram29",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: {{ $json.telegramid }}\n-Username: {{ $json.username }}\n-Join date: {{ $json.joindate }}\n-Status: {{ $json.isactive ? \"Active\" : \"Inactive\"}}\n-Role: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}\n-Notifications: {{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}\n-Points: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Notifications: <b>Sign up to receive notifications when new proposals are available</b>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Drep infomation",
                    "additionalFields": {
                      "callback_data": "api_drepinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "List of DReps Delegators",
                    "additionalFields": {
                      "callback_data": "DReps_Delegators"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Voter's Proposal List",
                    "additionalFields": {
                      "callback_data": "voter_proposal_list"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Voting Power History",
                    "additionalFields": {
                      "callback_data": "Drep_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Information About  Epoch",
                    "additionalFields": {
                      "callback_data": "epoch_params"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5060,
        4080
      ],
      "id": "f8040f15-b9d7-497c-b0cc-d0f38be09b9b",
      "name": "Telegram30",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Switch Call Back').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5620,
        5500
      ],
      "id": "13ae0e06-f47b-4ad8-836c-84f9086b8a36",
      "name": "If18"
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: {{ $json.telegramid }}\n-T√™n t√†i kho·∫£n: {{ $json.username }}\n-Ng√†y tham gia: {{ $json.joindate }}\n-Tr·∫°ng th√°i: {{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}\n-Vai tr√≤: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Kh√¥ng x√°c ƒë·ªãnh\"\n}}\n-Nh·∫≠n th√¥ng b√°o: {{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}\n-ƒêi·ªÉm th∆∞·ªüng: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Th√¥ng b√°o: <b>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</b>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ C·∫≠p nh·∫≠t vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin c·ªßa SPO",
                    "additionalFields": {
                      "callback_data": "api_spoinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ƒë√£ vote c·ªßa b·∫°n",
                    "additionalFields": {
                      "callback_data": "SPO_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ng∆∞·ªùi u·ª∑ quy·ªÅn",
                    "additionalFields": {
                      "callback_data": "pool_delegators"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5440,
        5480
      ],
      "id": "c9668b24-2171-4728-bd95-38df94b618c9",
      "name": "Telegram31",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: {{ $json.telegramid }}\n-Username: {{ $json.username }}\n-Join date: {{ $json.joindate }}\n-Status: {{ $json.isactive ? \"Active\" : \"Inactive\"}}\n-Role: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}\n-Notifications: {{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}\n-Points: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Notifications: <b>Sign up to receive notifications when new proposals are available</b>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ Update role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "SPO infomation",
                    "additionalFields": {
                      "callback_data": "api_spoinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Voting Power History",
                    "additionalFields": {
                      "callback_data": "SPO_voting_power_history"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Pool Delegators List",
                    "additionalFields": {
                      "callback_data": "pool_delegators"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5580,
        5340
      ],
      "id": "c1f865b6-5568-4e7e-8e1a-0dc858a0f3e2",
      "name": "Telegram32",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Switch Call Back').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5440,
        4980
      ],
      "id": "de67bb3f-21c8-4b19-b724-4a1ead1b8181",
      "name": "If19"
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: {{ $json.telegramid }}\n-T√™n t√†i kho·∫£n: {{ $json.username }}\n-Ng√†y tham gia: {{ $json.joindate }}\n-Tr·∫°ng th√°i: {{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}\n-Vai tr√≤: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Kh√¥ng x√°c ƒë·ªãnh\"\n}}\n-Nh·∫≠n th√¥ng b√°o: {{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}\n-ƒêi·ªÉm th∆∞·ªüng: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Th√¥ng b√°o: <b>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</b>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ C·∫≠p nh·∫≠t vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Th√¥ng tin ·ªßy ban",
                    "additionalFields": {
                      "callback_data": "api_CCinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Danh s√°ch ƒë√£ vote c·ªßa ·ªßy ban",
                    "additionalFields": {
                      "callback_data": "committee_votes"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5240,
        4960
      ],
      "id": "2748e9a2-9df1-42ac-84b1-ff8934b7fd97",
      "name": "Telegram33",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: {{ $json.telegramid }}\n-Username: {{ $json.username }}\n-Join date: {{ $json.joindate }}\n-Status: {{ $json.isactive ? \"Active\" : \"Inactive\"}}\n-Role: {{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}\n-Notifications: {{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}\n-Points: {{ $json.point ?? 0}} BBO\n-Onchain ID: {{ $json.onchainId ?? null }}\n\nüê≥Notifications: <b>Sign up to receive notifications when new proposals are available</b>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥ Update role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Committee Information",
                    "additionalFields": {
                      "callback_data": "api_CCinformation"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "Committee Votes",
                    "additionalFields": {
                      "callback_data": "committee_votes"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5540,
        4820
      ],
      "id": "695dd2a5-01db-40d3-9de9-ffe05fbc8d91",
      "name": "Telegram34",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c5e4086e-36ff-48cf-a434-15d2a89a4b3b",
              "leftValue": "={{ $('Switch Call Back').item.json.callback_query.from.language_code }}",
              "rightValue": "vi",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5700,
        5980
      ],
      "id": "07481732-9319-4ecc-aefc-8c20d1e548b1",
      "name": "If20"
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Th√¥ng tin t√†i kho·∫£n:</b>‚ú®\n\n-M√£ ƒë·ªãnh danh: <i>{{ $json.telegramid }}</i>\n-T√™n t√†i kho·∫£n: <i>{{ $json.username }}</i>\n-Ng√†y tham gia: <i>{{ $json.joindate }}</i>\n-Tr·∫°ng th√°i: <i>{{ $json.isactive ? \"Ho·∫°t ƒë·ªông\" : \"Ng∆∞ng ho·∫°t ƒë·ªông\"}}</i>\n-Vai tr√≤: <i>{{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}</i>\n-Nh·∫≠n th√¥ng b√°o: <i>{{ $json.allownoti ? \"B·∫≠t\" : \"T·∫Øt\"}}</i>\n-ƒêi·ªÉm th∆∞·ªüng: <i>{{ $json.point ?? 0}} BBO</i>\n-Onchain ID: <i>{{ $json.onchainId ?? null }}</i>\n\nüê≥Vai tr√≤: <i>C·∫≠p nh·∫≠t vai tr√≤ tham gia</i>\nüê≥Th√¥ng b√°o: <i>ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o khi c√≥ ƒë·ªÅ xu·∫•t m·ªõi</i>\n  üü¢Nh·∫≠n th√¥ng b√°o\n  üî¥T·∫Øt th√¥ng b√°o",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Vai tr√≤",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Nh·∫≠n th√¥ng b√°o  ",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": "üî¥T·∫Øt th√¥ng b√°o",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñQuy t·∫Øc t√≠nh ƒëi·ªÉm",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5520,
        5960
      ],
      "id": "4c950c33-14fa-4ae2-92aa-57e448e3363b",
      "name": "Telegram35",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Switch-Account').item.json.telegramid }}",
        "text": "=‚ú®<b>Account information:</b>‚ú®\n\n-Identifier: <i>{{ $json.telegramid }}</i>\n-Username: <i>{{ $json.username }}</i>\n-Join date: <i>{{ $json.joindate }}</i>\n-Status: <i>{{ $json.isactive ? \"Active\" : \"Inactive\"}}</i>\n-Role: <i>{{ \n  $json.roleid == 2 ? \"Drep\" : \n  $json.roleid == 3 ? \"User\" : \n  $json.roleid == 4 ? \"SPO\" : \n  $json.roleid == 5 ? \"Holder\" : \n  $json.roleid == 6 ? \"Committe\" : \n  \"Unidentified \"\n}}</i>\n-Notifications: <i>{{ $json.allownoti ? \"Turn on\" : \"Turn off\"}}</i>\n-Points: <i>{{ $json.point ?? 0}} BBO</i>\n-Onchain ID: <i>{{ $json.onchainId ?? null }}</i>\n\nüê≥Notifications: <i>Sign up to receive notifications when new proposals are available</i>\n  üü¢Turn on\n  üî¥Turn off",
        "replyMarkup": "inlineKeyboard",
        "inlineKeyboard": {
          "rows": [
            {
              "row": {
                "buttons": [
                  {
                    "text": "üê≥Role",
                    "additionalFields": {
                      "callback_data": "role"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "  üü¢Turn on",
                    "additionalFields": {
                      "callback_data": "turn_on"
                    }
                  },
                  {
                    "text": " üî¥Turn off",
                    "additionalFields": {
                      "callback_data": "turn_off"
                    }
                  }
                ]
              }
            },
            {
              "row": {
                "buttons": [
                  {
                    "text": "ü§ñScore calculation",
                    "additionalFields": {
                      "callback_data": "rulebbo_point"
                    }
                  }
                ]
              }
            }
          ]
        },
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -5760,
        5780
      ],
      "id": "79984441-af90-4f95-a74d-32184baed173",
      "name": "Telegram36",
      "webhookId": "2d004037-e0c2-4a0a-ae7e-c7e09dfcbeff",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 2,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    },
                    "id": "48209589-e551-46e4-925a-3525424b77b6"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "DREP"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "62a4b49c-98c0-471e-9d74-deca7155d523",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 4,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "SPO"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "fe802ac8-f0c9-4750-8340-1039766562f8",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 6,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Committe"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "97a85122-7ba0-440b-acef-92377e6aada8",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 3,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "User"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "65be1f11-cd8f-4b6d-82a2-71d00f3c536e",
                    "leftValue": "={{ $json.roleid }}",
                    "rightValue": 5,
                    "operator": {
                      "type": "number",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "holder"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -5520,
        4280
      ],
      "id": "f0cb7d71-7922-4eb8-bd7b-01fda5d21d44",
      "name": "Switch-Account"
    },
    {
      "parameters": {
        "content": "",
        "height": 480,
        "width": 640,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -5760,
        3260
      ],
      "id": "364f757a-199e-422e-a8e8-cbdcfbb52d6c",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "",
        "height": 480,
        "width": 900,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -5020,
        3260
      ],
      "id": "9933ffd2-1c3c-446c-ad92-48b427cc641d",
      "name": "Sticky Note11"
    },
    {
      "parameters": {
        "content": "",
        "height": 480,
        "width": 640,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -4000,
        3260
      ],
      "id": "e119884b-5b67-4b32-8408-53f81c7d7d76",
      "name": "Sticky Note15"
    },
    {
      "parameters": {
        "content": "",
        "height": 480,
        "width": 640,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -3240,
        3260
      ],
      "id": "7b3aefa9-f45a-4592-8cfc-b10b8b3d22f4",
      "name": "Sticky Note20"
    },
    {
      "parameters": {
        "content": "",
        "height": 480,
        "width": 640,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -2500,
        3260
      ],
      "id": "ba68a50d-68f0-45e1-a346-2e65b4574d3e",
      "name": "Sticky Note22"
    },
    {
      "parameters": {
        "content": "",
        "height": 2240,
        "width": 1460,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -5980,
        3980
      ],
      "id": "ff6d8e19-f38e-4a69-a93c-b7333c465b7b",
      "name": "Sticky Note23"
    },
    {
      "parameters": {
        "content": "",
        "height": 1580,
        "width": 920,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -4440,
        4640
      ],
      "id": "ca36ade3-0314-4ce3-b615-e27f5fe0d818",
      "name": "Sticky Note24"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "=SELECT EXISTS (\n    SELECT 1 FROM bbo_user WHERE telegramid = {{ $('Telegram Trigger').item.json.message.chat.id }}\n) AS user_exists;",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        2280,
        2500
      ],
      "id": "771ba095-efd7-4b96-a907-cc59487111e6",
      "name": "check_exist",
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "user_questions",
          "mode": "list",
          "cachedResultName": "user_questions"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "chat_id": "={{ $json.result.chat.id }}",
            "selected_questions": "={{ $('CodeRandom1').item.json.selected_questions }}",
            "message_id": "={{ $json.result.message_id }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "chat_id",
              "displayName": "chat_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true
            },
            {
              "id": "message_id",
              "displayName": "message_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "selected_questions",
              "displayName": "selected_questions",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "array",
              "canBeUsedToMatch": true
            },
            {
              "id": "created_at",
              "displayName": "created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "expires_at",
              "displayName": "expires_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        2380,
        1320
      ],
      "id": "117d7704-d4d8-4f47-ba48-06e458a8c31f",
      "name": "Postgres1",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM user_questions WHERE chat_id = 7860424712 and message_id = 5010",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -1720,
        1960
      ],
      "id": "6be0a397-62e4-4b86-94a7-dacfe2d5915b",
      "name": "ExecuteQuestions",
      "credentials": {
        "postgres": {
          "id": "y0YF1F4MKK5YeslP",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $json.message.chat.id }}",
        "text": "Typing...",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -1460,
        1960
      ],
      "id": "cfdbb763-e92c-4005-a748-9cb4d9b44ba9",
      "name": "Telegram37",
      "webhookId": "a8c67252-0436-4e80-b080-49391d923525",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "operation": "deleteMessage",
        "chatId": "={{ $('Telegram27').item.json.result.chat.id }}",
        "messageId": "={{ $('Telegram27').item.json.result.message_id }}"
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -820,
        1960
      ],
      "id": "1faed699-1dbb-43d5-8a5e-ac677a9b7b24",
      "name": "Telegram38",
      "webhookId": "c0ed9ff5-579d-434d-bd96-01ee34a7c79b",
      "credentials": {
        "telegramApi": {
          "id": "Jo4kWcVNJK0H8Qnp",
          "name": "Governance account"
        }
      }
    },
    {
      "parameters": {
        "content": "",
        "height": 660,
        "width": 1840,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1820,
        1820
      ],
      "id": "7b31ef3a-eef9-436b-8618-a1d57bfee4bd",
      "name": "Sticky Note2"
    }
  ],
  "pinData": {},
  "connections": {
    "Switch": {
      "main": [
        [
          {
            "node": "Telegram27",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If_Lang_Start",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If_Lang_Help",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If_Find",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If5",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If12",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If_Command",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Telegram28",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Retrieve Documents",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "If_Lang_Start": {
      "main": [
        [
          {
            "node": "Mes_Start_Vi",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mes_Start_En",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If_Lang_Help": {
      "main": [
        [
          {
            "node": "Mes_Help_Vi",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mes_Help_En",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If_Command": {
      "main": [
        [
          {
            "node": "Mes_Com_Vi",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mes_Com_En",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If_Find": {
      "main": [
        [
          {
            "node": "CodeRandom",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "CodeRandom1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If_Call_Help": {
      "main": [
        [
          {
            "node": "Help_Vi",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Help_En",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If_Call_Filter": {
      "main": [
        [
          {
            "node": "CodeRandom2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "CodeRandom3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Telegram38",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Mes_Start_Vi": {
      "main": [
        [
          {
            "node": "check_exist",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Mes_Start_En": {
      "main": [
        [
          {
            "node": "check_exist",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If_exist": {
      "main": [
        [
          {
            "node": "Insert_user",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "If15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres3": {
      "main": [
        [
          {
            "node": "Switch-Account",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If3": {
      "main": [
        [
          {
            "node": "Telegram2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If4": {
      "main": [
        [
          {
            "node": "Telegram4",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If5": {
      "main": [
        [
          {
            "node": "Telegram7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram7": {
      "main": [
        [
          {
            "node": "Postgres4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram8": {
      "main": [
        [
          {
            "node": "Postgres4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If6": {
      "main": [
        [
          {
            "node": "Feedback",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Feedback1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres6": {
      "main": [
        [
          {
            "node": "If7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If7": {
      "main": [
        [
          {
            "node": "Telegram6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres7": {
      "main": [
        [
          {
            "node": "If8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If8": {
      "main": [
        [
          {
            "node": "Telegram6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Postgres8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres8": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If9": {
      "main": [
        [
          {
            "node": "Postgres9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres9": {
      "main": [
        [
          {
            "node": "codefunction",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code1": {
      "main": [
        [
          {
            "node": "Telegram11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "codefunction": {
      "main": [
        [
          {
            "node": "Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger2": {
      "main": [
        [
          {
            "node": "GetStoredProposals1",
            "type": "main",
            "index": 0
          },
          {
            "node": "GetProposals1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GetProposals1": {
      "main": [
        [
          {
            "node": "CompareProposals1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GetStoredProposals1": {
      "main": [
        [
          {
            "node": "jsonconvertold",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CompareProposals1": {
      "main": [
        [
          {
            "node": "If11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If11": {
      "main": [
        [
          {
            "node": "newProposal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "set_convert": {
      "main": [
        [
          {
            "node": "Convert to File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to File": {
      "main": [
        [
          {
            "node": "Google Drive1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive1": {
      "main": [
        [
          {
            "node": "Postgres10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres10": {
      "main": [
        [
          {
            "node": "Code2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code2": {
      "main": [
        [
          {
            "node": "Telegram12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "jsonconvertold": {
      "main": [
        [
          {
            "node": "set_convert1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "set_convert1": {
      "main": [
        [
          {
            "node": "CodeConvert",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CodeConvert": {
      "main": [
        [
          {
            "node": "CompareProposals1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "newProposal": {
      "main": [
        [
          {
            "node": "set_convert",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Retrieve Documents",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Retrieve Documents1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store1": {
      "ai_vectorStore": [
        [
          {
            "node": "Retrieve Documents1",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini1": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Retrieve Documents1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code3": {
      "main": [
        [
          {
            "node": "Telegram10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres4": {
      "main": [
        [
          {
            "node": "Code4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code4": {
      "main": [
        [
          {
            "node": "Telegram13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If10": {
      "main": [
        [
          {
            "node": "Telegram14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram15",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If14",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If16",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If16",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code5": {
      "main": [
        [
          {
            "node": "Message_Response1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "ai_tool": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model6": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent3": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model7": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent4",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code6": {
      "main": [
        [
          {
            "node": "Message_Response2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent5": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request2": {
      "ai_tool": [
        [
          {
            "node": "AI Agent5",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model8": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent5",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres13": {
      "main": [
        [
          {
            "node": "AI Agent5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent4": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent6": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request3": {
      "ai_tool": [
        [
          {
            "node": "AI Agent6",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model9": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent6",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "If13": {
      "main": [
        [
          {
            "node": "Telegram19",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent7": {
      "main": [
        [
          {
            "node": "Code10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request4": {
      "ai_tool": [
        [
          {
            "node": "AI Agent7",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model10": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent7",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent8": {
      "main": [
        [
          {
            "node": "Code10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request5": {
      "ai_tool": [
        [
          {
            "node": "AI Agent8",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model11": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent8",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code10": {
      "main": [
        [
          {
            "node": "Message_Response6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent9": {
      "main": [
        [
          {
            "node": "Code10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request6": {
      "ai_tool": [
        [
          {
            "node": "AI Agent9",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model12": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent9",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres17": {
      "main": [
        [
          {
            "node": "AI Agent9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If14": {
      "main": [
        [
          {
            "node": "Telegram21",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent10": {
      "main": [
        [
          {
            "node": "Code13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request7": {
      "ai_tool": [
        [
          {
            "node": "AI Agent10",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model13": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent10",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent11": {
      "main": [
        [
          {
            "node": "Code13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request8": {
      "ai_tool": [
        [
          {
            "node": "AI Agent11",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model14": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent11",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code13": {
      "main": [
        [
          {
            "node": "Message_Response9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres19": {
      "main": [
        [
          {
            "node": "AI Agent10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request9": {
      "ai_tool": [
        [
          {
            "node": "AI Agent12",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model15": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent12",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent12": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If12": {
      "main": [
        [
          {
            "node": "Telegram17",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram17": {
      "main": [
        [
          {
            "node": "Code9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram18": {
      "main": [
        [
          {
            "node": "Code9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code9": {
      "main": [
        [
          {
            "node": "Postgres14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory4": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Code8": {
      "main": [
        [
          {
            "node": "Telegram23",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Insert_user": {
      "main": [
        [
          {
            "node": "Code8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If16": {
      "main": [
        [
          {
            "node": "Telegram24",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres15": {
      "main": [
        [
          {
            "node": "AI Agent3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres16": {
      "main": [
        [
          {
            "node": "AI Agent4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres18": {
      "main": [
        [
          {
            "node": "AI Agent6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres20": {
      "main": [
        [
          {
            "node": "AI Agent12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres22": {
      "main": [
        [
          {
            "node": "AI Agent7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres21": {
      "main": [
        [
          {
            "node": "AI Agent8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres23": {
      "main": [
        [
          {
            "node": "AI Agent11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If15": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch Call Back",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CodeRandom": {
      "main": [
        [
          {
            "node": "Mes_Filter_Vi",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CodeRandom1": {
      "main": [
        [
          {
            "node": "Mes_Filter_EN",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram27": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram28": {
      "main": [
        [
          {
            "node": "Message_Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch Call Back": {
      "main": [
        [
          {
            "node": "If_Call_Help",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If_Call_Filter",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If3",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If10",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If9",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres13",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres15",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres16",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres18",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres20",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres17",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres22",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres21",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres19",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Postgres23",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ExecuteQuestions",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CodeRandom3": {
      "main": [
        [
          {
            "node": "Mes_Filter_EN1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CodeRandom2": {
      "main": [
        [
          {
            "node": "Mes_Filter_Vi1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If17": {
      "main": [
        [
          {
            "node": "Telegram29",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram30",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If18": {
      "main": [
        [
          {
            "node": "Telegram31",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram32",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If19": {
      "main": [
        [
          {
            "node": "Telegram33",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram34",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If20": {
      "main": [
        [
          {
            "node": "Telegram35",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram36",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch-Account": {
      "main": [
        [
          {
            "node": "If17",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If18",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If19",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If20",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If20",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check_exist": {
      "main": [
        [
          {
            "node": "If_exist",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mes_Filter_Vi": {
      "main": [
        [
          {
            "node": "Postgres1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mes_Filter_EN": {
      "main": [
        [
          {
            "node": "Postgres1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ExecuteQuestions": {
      "main": [
        [
          {
            "node": "Telegram37",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram37": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Retrieve Documents": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Telegram38": {
      "main": [
        [
          {
            "node": "Code5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "387c2874-a730-4e4d-8203-0d50001282e1",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "ddc78abf6d26c6050fafb0ba452cf56a55cb8482e5cde128d75a821055f99c24"
  },
  "id": "NFI6sk77FTN9AWkf",
  "tags": []
}
